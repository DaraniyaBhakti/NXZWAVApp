{"version":3,"names":["react_1","require","RunEngine_1","Message_1","MessageEnum_1","__importStar","react_native_1","helper","BlockComponent","Component","constructor","props","isLoaded","uuidv4","blockId","send","message","runEngine","sendMessage","subScribedMessages","hideKeyboard","bind","receive","from","componentDidMount","componentWillUnmount","Keyboard","dismiss","unSubscribeFromMessages","toggleState","objectID","changeState","Boolean","getState","value","console","log","testString","processOnClickMessage","messageID","showAlert","title","error","btnPositiveText","btnPositiveMessage","btnNegativeText","btnNegativeMessage","btnNeutralText","btnNeutralMessage","alertMsg","Message","getName","default","AlertMessage","addData","AlertTitleMessage","AlertBodyMessage","NavigationPropsMessage","AlertButtonPositiveText","AlertButtonNegativeText","AlertButtonNeutralText","AlertButtonPositiveMessage","AlertButtonNegativeMessage","AlertButtonNeutralMessage","id","parseApiErrorResponse","responseJson","errors","allerrors","map","object","newLocal","JSON","stringify","parse","key","length","isPlatformWeb","getOS","isPlatformiOS","isPlatformAndroid","parseApiCatchErrorResponse","errorReponse","replace","RegExp","exports"],"sources":["/Users/macm14/Documents/NXZWAW/nxzwav-294793-react-native/src/packages/framework/src/BlockComponent.tsx"],"sourcesContent":["// Do not change anything in the protected area. Doing so will be detected and your commit will be rejected.\n\n// Protected Area Start\nimport { Component } from 'react';\nimport { IBlock } from './IBlock';\nimport { runEngine } from './RunEngine';\nimport { Message } from './Message';\nimport MessageEnum, { getName } from './Messages/MessageEnum';\nimport { Keyboard } from 'react-native';\n\nimport * as helper from './Helpers';\nimport { Stream } from 'stream';\n\nexport class BlockComponent<Props, S, SS> extends Component<Props, S, SS>\n  implements IBlock {\n  isLoaded = false;\n\n  send: (message: Message) => void;\n\n  blockId: string;\n\n  subScribedMessages: string[];\n\n  constructor(props: Props) {\n    super(props);\n    const uuidv4 = require(\"uuid/v4\");\n    this.blockId = uuidv4();\n    this.send = message => runEngine.sendMessage(this.blockId, message);\n    this.subScribedMessages = [''];\n    this.hideKeyboard = this.hideKeyboard.bind(this);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  receive(from: string, message: Message): void {}\n\n  async componentDidMount() {\n    this.isLoaded = true;\n  }\n\n  async componentWillUnmount() {\n    this.isLoaded = false;\n    Keyboard.dismiss();\n    runEngine.unSubscribeFromMessages(this, this.subScribedMessages);\n  }\n\n\n  public toggleState(objectID:string) {\n    this.changeState(objectID, !Boolean(this.getState(objectID)));\n  }\n\n  public changeState(objectID:string, value:any) {\n    switch(objectID) {\n      default:\n        console.log(\"changeState::Not Confifured for \" + objectID);\n    }\n  }\n\n  public getState(objectID:string) {\n\n    var testString = '';\n\n    switch(objectID) {\n      case 'testBoolTrue':\n        return true;\n      case 'testBoolFalse':\n          return false;\n      case 'testString':\n        return testString;\n      default:\n        console.log(\"changeState::Not Confifured for \" + objectID);\n        return null\n    }\n  }\n\n  public processOnClickMessage(messageID:string, value:any = null) {\n    switch(messageID) {\n      default:\n        console.log(\"processOnClickMessage::Not Configured for \" + messageID);\n    }\n  }\n\n  public showAlert(\n    title: string,\n    error: string,\n    btnPositiveText?: string,\n    btnPositiveMessage?: Message,\n    btnNegativeText?: string,\n    btnNegativeMessage?: Message,\n    btnNeutralText?: string,\n    btnNeutralMessage?: Message\n  ) {\n    Keyboard.dismiss();\n\n    if (!btnPositiveText && !btnNegativeText && !btnNeutralText) {\n      btnPositiveText = 'Ok';\n    }\n\n    const alertMsg: Message = new Message(getName(MessageEnum.AlertMessage));\n    alertMsg.addData(getName(MessageEnum.AlertTitleMessage), title);\n    alertMsg.addData(getName(MessageEnum.AlertBodyMessage), error);\n    alertMsg.addData(getName(MessageEnum.NavigationPropsMessage), this.props);\n\n    alertMsg.addData(getName(MessageEnum.NavigationPropsMessage), this.props);\n\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonPositiveText),\n      btnPositiveText\n    );\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonNegativeText),\n      btnNegativeText\n    );\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonNeutralText),\n      btnNeutralText\n    );\n\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonPositiveMessage),\n      btnPositiveMessage\n    );\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonNegativeMessage),\n      btnNegativeMessage\n    );\n    alertMsg.addData(\n      getName(MessageEnum.AlertButtonNeutralMessage),\n      btnNeutralMessage\n    );\n\n    runEngine.sendMessage(alertMsg.id, alertMsg);\n  }\n\n  public parseApiErrorResponse(responseJson: any) {\n    if (!responseJson || !responseJson.errors) {\n      return;\n    }\n    const errors: any[] = responseJson.errors;\n\n    let allerrors = '';\n    errors.map((object: string) => {\n      const newLocal = JSON.stringify(object);\n      JSON.parse(newLocal, (key, value) => {\n        if (value.length > 0) {\n          if (allerrors.length <= 0) {\n            allerrors = value;\n          } else {\n            allerrors = `${allerrors}{\\n}${value}`;\n          }\n        }\n      });\n    });\n\n    this.showAlert('Error', allerrors);\n  }\n\n  public isPlatformWeb() {\n    return helper.getOS() === 'web';\n  }\n\n  public isPlatformiOS() {\n    return helper.getOS() === 'ios';\n  }\n\n  public isPlatformAndroid() {\n    return helper.getOS() === 'android';\n  }\n\n  public parseApiCatchErrorResponse(errorReponse: any) {\n    if (errorReponse) {\n      this.showAlert(\n        'Error',\n        JSON.stringify(errorReponse).replace(new RegExp('\"', 'g'), '')\n      );\n    }\n  }\n\n  public hideKeyboard() {\n    if (!this.isPlatformWeb()) {\n      Keyboard.dismiss();\n    }\n  }\n}\n\n// Protected Area End\n"],"mappings":"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"}