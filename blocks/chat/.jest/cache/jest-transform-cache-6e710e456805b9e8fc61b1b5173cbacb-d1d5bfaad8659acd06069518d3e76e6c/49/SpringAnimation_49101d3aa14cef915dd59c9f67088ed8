b990e3c06ed922c83b941f61509f9494
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedValue = require('../nodes/AnimatedValue');
var AnimatedValueXY = require('../nodes/AnimatedValueXY');
var Animation = require('./Animation');
var SpringConfig = require('../SpringConfig');
var invariant = require('invariant');
var _require = require('../NativeAnimatedHelper'),
  shouldUseNativeDriver = _require.shouldUseNativeDriver;
var SpringAnimation = function (_Animation) {
  (0, _inherits2.default)(SpringAnimation, _Animation);
  var _super = _createSuper(SpringAnimation);
  function SpringAnimation(config) {
    var _config$overshootClam, _config$restDisplacem, _config$restSpeedThre, _config$velocity, _config$velocity2, _config$delay, _config$isInteraction, _config$iterations;
    var _this;
    (0, _classCallCheck2.default)(this, SpringAnimation);
    _this = _super.call(this);
    _this._overshootClamping = (_config$overshootClam = config.overshootClamping) != null ? _config$overshootClam : false;
    _this._restDisplacementThreshold = (_config$restDisplacem = config.restDisplacementThreshold) != null ? _config$restDisplacem : 0.001;
    _this._restSpeedThreshold = (_config$restSpeedThre = config.restSpeedThreshold) != null ? _config$restSpeedThre : 0.001;
    _this._initialVelocity = (_config$velocity = config.velocity) != null ? _config$velocity : 0;
    _this._lastVelocity = (_config$velocity2 = config.velocity) != null ? _config$velocity2 : 0;
    _this._toValue = config.toValue;
    _this._delay = (_config$delay = config.delay) != null ? _config$delay : 0;
    _this._useNativeDriver = shouldUseNativeDriver(config);
    _this.__isInteraction = (_config$isInteraction = config.isInteraction) != null ? _config$isInteraction : !_this._useNativeDriver;
    _this.__iterations = (_config$iterations = config.iterations) != null ? _config$iterations : 1;
    if (config.stiffness !== undefined || config.damping !== undefined || config.mass !== undefined) {
      var _config$stiffness, _config$damping, _config$mass;
      invariant(config.bounciness === undefined && config.speed === undefined && config.tension === undefined && config.friction === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      _this._stiffness = (_config$stiffness = config.stiffness) != null ? _config$stiffness : 100;
      _this._damping = (_config$damping = config.damping) != null ? _config$damping : 10;
      _this._mass = (_config$mass = config.mass) != null ? _config$mass : 1;
    } else if (config.bounciness !== undefined || config.speed !== undefined) {
      var _config$bounciness, _config$speed;
      invariant(config.tension === undefined && config.friction === undefined && config.stiffness === undefined && config.damping === undefined && config.mass === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      var springConfig = SpringConfig.fromBouncinessAndSpeed((_config$bounciness = config.bounciness) != null ? _config$bounciness : 8, (_config$speed = config.speed) != null ? _config$speed : 12);
      _this._stiffness = springConfig.stiffness;
      _this._damping = springConfig.damping;
      _this._mass = 1;
    } else {
      var _config$tension, _config$friction;
      var _springConfig = SpringConfig.fromOrigamiTensionAndFriction((_config$tension = config.tension) != null ? _config$tension : 40, (_config$friction = config.friction) != null ? _config$friction : 7);
      _this._stiffness = _springConfig.stiffness;
      _this._damping = _springConfig.damping;
      _this._mass = 1;
    }
    invariant(_this._stiffness > 0, 'Stiffness value must be greater than 0');
    invariant(_this._damping > 0, 'Damping value must be greater than 0');
    invariant(_this._mass > 0, 'Mass value must be greater than 0');
    return _this;
  }
  (0, _createClass2.default)(SpringAnimation, [{
    key: "__getNativeAnimationConfig",
    value: function __getNativeAnimationConfig() {
      var _this$_initialVelocit;
      return {
        type: 'spring',
        overshootClamping: this._overshootClamping,
        restDisplacementThreshold: this._restDisplacementThreshold,
        restSpeedThreshold: this._restSpeedThreshold,
        stiffness: this._stiffness,
        damping: this._damping,
        mass: this._mass,
        initialVelocity: (_this$_initialVelocit = this._initialVelocity) != null ? _this$_initialVelocit : this._lastVelocity,
        toValue: this._toValue,
        iterations: this.__iterations
      };
    }
  }, {
    key: "start",
    value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {
      var _this2 = this;
      this.__active = true;
      this._startPosition = fromValue;
      this._lastPosition = this._startPosition;
      this._onUpdate = onUpdate;
      this.__onEnd = onEnd;
      this._lastTime = Date.now();
      this._frameTime = 0.0;
      if (previousAnimation instanceof SpringAnimation) {
        var internalState = previousAnimation.getInternalState();
        this._lastPosition = internalState.lastPosition;
        this._lastVelocity = internalState.lastVelocity;
        this._initialVelocity = this._lastVelocity;
        this._lastTime = internalState.lastTime;
      }
      var start = function start() {
        if (_this2._useNativeDriver) {
          _this2.__startNativeAnimation(animatedValue);
        } else {
          _this2.onUpdate();
        }
      };
      if (this._delay) {
        this._timeout = setTimeout(start, this._delay);
      } else {
        start();
      }
    }
  }, {
    key: "getInternalState",
    value: function getInternalState() {
      return {
        lastPosition: this._lastPosition,
        lastVelocity: this._lastVelocity,
        lastTime: this._lastTime
      };
    }
  }, {
    key: "onUpdate",
    value: function onUpdate() {
      var MAX_STEPS = 64;
      var now = Date.now();
      if (now > this._lastTime + MAX_STEPS) {
        now = this._lastTime + MAX_STEPS;
      }
      var deltaTime = (now - this._lastTime) / 1000;
      this._frameTime += deltaTime;
      var c = this._damping;
      var m = this._mass;
      var k = this._stiffness;
      var v0 = -this._initialVelocity;
      var zeta = c / (2 * Math.sqrt(k * m));
      var omega0 = Math.sqrt(k / m);
      var omega1 = omega0 * Math.sqrt(1.0 - zeta * zeta);
      var x0 = this._toValue - this._startPosition;
      var position = 0.0;
      var velocity = 0.0;
      var t = this._frameTime;
      if (zeta < 1) {
        var envelope = Math.exp(-zeta * omega0 * t);
        position = this._toValue - envelope * ((v0 + zeta * omega0 * x0) / omega1 * Math.sin(omega1 * t) + x0 * Math.cos(omega1 * t));
        velocity = zeta * omega0 * envelope * (Math.sin(omega1 * t) * (v0 + zeta * omega0 * x0) / omega1 + x0 * Math.cos(omega1 * t)) - envelope * (Math.cos(omega1 * t) * (v0 + zeta * omega0 * x0) - omega1 * x0 * Math.sin(omega1 * t));
      } else {
        var _envelope = Math.exp(-omega0 * t);
        position = this._toValue - _envelope * (x0 + (v0 + omega0 * x0) * t);
        velocity = _envelope * (v0 * (t * omega0 - 1) + t * x0 * (omega0 * omega0));
      }
      this._lastTime = now;
      this._lastPosition = position;
      this._lastVelocity = velocity;
      this._onUpdate(position);
      if (!this.__active) {
        return;
      }
      var isOvershooting = false;
      if (this._overshootClamping && this._stiffness !== 0) {
        if (this._startPosition < this._toValue) {
          isOvershooting = position > this._toValue;
        } else {
          isOvershooting = position < this._toValue;
        }
      }
      var isVelocity = Math.abs(velocity) <= this._restSpeedThreshold;
      var isDisplacement = true;
      if (this._stiffness !== 0) {
        isDisplacement = Math.abs(this._toValue - position) <= this._restDisplacementThreshold;
      }
      if (isOvershooting || isVelocity && isDisplacement) {
        if (this._stiffness !== 0) {
          this._lastPosition = this._toValue;
          this._lastVelocity = 0;
          this._onUpdate(this._toValue);
        }
        this.__debouncedOnEnd({
          finished: true
        });
        return;
      }
      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));
    }
  }, {
    key: "stop",
    value: function stop() {
      (0, _get2.default)((0, _getPrototypeOf2.default)(SpringAnimation.prototype), "stop", this).call(this);
      this.__active = false;
      clearTimeout(this._timeout);
      global.cancelAnimationFrame(this._animationFrame);
      this.__debouncedOnEnd({
        finished: false
      });
    }
  }]);
  return SpringAnimation;
}(Animation);
module.exports = SpringAnimation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2dldDIiLCJfaW5oZXJpdHMyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJkZWZhdWx0IiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsImNhbGwiLCJlIiwiQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkVmFsdWVYWSIsIkFuaW1hdGlvbiIsIlNwcmluZ0NvbmZpZyIsImludmFyaWFudCIsIl9yZXF1aXJlIiwic2hvdWxkVXNlTmF0aXZlRHJpdmVyIiwiU3ByaW5nQW5pbWF0aW9uIiwiX0FuaW1hdGlvbiIsIl9zdXBlciIsImNvbmZpZyIsIl9jb25maWckb3ZlcnNob290Q2xhbSIsIl9jb25maWckcmVzdERpc3BsYWNlbSIsIl9jb25maWckcmVzdFNwZWVkVGhyZSIsIl9jb25maWckdmVsb2NpdHkiLCJfY29uZmlnJHZlbG9jaXR5MiIsIl9jb25maWckZGVsYXkiLCJfY29uZmlnJGlzSW50ZXJhY3Rpb24iLCJfY29uZmlnJGl0ZXJhdGlvbnMiLCJfdGhpcyIsIl9vdmVyc2hvb3RDbGFtcGluZyIsIm92ZXJzaG9vdENsYW1waW5nIiwiX3Jlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQiLCJyZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkIiwiX3Jlc3RTcGVlZFRocmVzaG9sZCIsInJlc3RTcGVlZFRocmVzaG9sZCIsIl9pbml0aWFsVmVsb2NpdHkiLCJ2ZWxvY2l0eSIsIl9sYXN0VmVsb2NpdHkiLCJfdG9WYWx1ZSIsInRvVmFsdWUiLCJfZGVsYXkiLCJkZWxheSIsIl91c2VOYXRpdmVEcml2ZXIiLCJfX2lzSW50ZXJhY3Rpb24iLCJpc0ludGVyYWN0aW9uIiwiX19pdGVyYXRpb25zIiwiaXRlcmF0aW9ucyIsInN0aWZmbmVzcyIsInVuZGVmaW5lZCIsImRhbXBpbmciLCJtYXNzIiwiX2NvbmZpZyRzdGlmZm5lc3MiLCJfY29uZmlnJGRhbXBpbmciLCJfY29uZmlnJG1hc3MiLCJib3VuY2luZXNzIiwic3BlZWQiLCJ0ZW5zaW9uIiwiZnJpY3Rpb24iLCJfc3RpZmZuZXNzIiwiX2RhbXBpbmciLCJfbWFzcyIsIl9jb25maWckYm91bmNpbmVzcyIsIl9jb25maWckc3BlZWQiLCJzcHJpbmdDb25maWciLCJmcm9tQm91bmNpbmVzc0FuZFNwZWVkIiwiX2NvbmZpZyR0ZW5zaW9uIiwiX2NvbmZpZyRmcmljdGlvbiIsImZyb21PcmlnYW1pVGVuc2lvbkFuZEZyaWN0aW9uIiwia2V5IiwidmFsdWUiLCJfX2dldE5hdGl2ZUFuaW1hdGlvbkNvbmZpZyIsIl90aGlzJF9pbml0aWFsVmVsb2NpdCIsInR5cGUiLCJpbml0aWFsVmVsb2NpdHkiLCJzdGFydCIsImZyb21WYWx1ZSIsIm9uVXBkYXRlIiwib25FbmQiLCJwcmV2aW91c0FuaW1hdGlvbiIsImFuaW1hdGVkVmFsdWUiLCJfdGhpczIiLCJfX2FjdGl2ZSIsIl9zdGFydFBvc2l0aW9uIiwiX2xhc3RQb3NpdGlvbiIsIl9vblVwZGF0ZSIsIl9fb25FbmQiLCJfbGFzdFRpbWUiLCJEYXRlIiwibm93IiwiX2ZyYW1lVGltZSIsImludGVybmFsU3RhdGUiLCJnZXRJbnRlcm5hbFN0YXRlIiwibGFzdFBvc2l0aW9uIiwibGFzdFZlbG9jaXR5IiwibGFzdFRpbWUiLCJfX3N0YXJ0TmF0aXZlQW5pbWF0aW9uIiwiX3RpbWVvdXQiLCJzZXRUaW1lb3V0IiwiTUFYX1NURVBTIiwiZGVsdGFUaW1lIiwiYyIsIm0iLCJrIiwidjAiLCJ6ZXRhIiwiTWF0aCIsInNxcnQiLCJvbWVnYTAiLCJvbWVnYTEiLCJ4MCIsInBvc2l0aW9uIiwidCIsImVudmVsb3BlIiwiZXhwIiwic2luIiwiY29zIiwiaXNPdmVyc2hvb3RpbmciLCJpc1ZlbG9jaXR5IiwiYWJzIiwiaXNEaXNwbGFjZW1lbnQiLCJfX2RlYm91bmNlZE9uRW5kIiwiZmluaXNoZWQiLCJfYW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwic3RvcCIsImNsZWFyVGltZW91dCIsImdsb2JhbCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNwcmluZ0FuaW1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRWYWx1ZSA9IHJlcXVpcmUoJy4uL25vZGVzL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkVmFsdWVYWSA9IHJlcXVpcmUoJy4uL25vZGVzL0FuaW1hdGVkVmFsdWVYWScpO1xuY29uc3QgQW5pbWF0aW9uID0gcmVxdWlyZSgnLi9BbmltYXRpb24nKTtcbmNvbnN0IFNwcmluZ0NvbmZpZyA9IHJlcXVpcmUoJy4uL1NwcmluZ0NvbmZpZycpO1xuXG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxuY29uc3Qge3Nob3VsZFVzZU5hdGl2ZURyaXZlcn0gPSByZXF1aXJlKCcuLi9OYXRpdmVBbmltYXRlZEhlbHBlcicpO1xuXG5pbXBvcnQgdHlwZSB7QW5pbWF0aW9uQ29uZmlnLCBFbmRDYWxsYmFja30gZnJvbSAnLi9BbmltYXRpb24nO1xuXG5leHBvcnQgdHlwZSBTcHJpbmdBbmltYXRpb25Db25maWcgPSBBbmltYXRpb25Db25maWcgJiB7XG4gIHRvVmFsdWU6IG51bWJlciB8IEFuaW1hdGVkVmFsdWUgfCB7eDogbnVtYmVyLCB5OiBudW1iZXJ9IHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICBvdmVyc2hvb3RDbGFtcGluZz86IGJvb2xlYW4sXG4gIHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQ/OiBudW1iZXIsXG4gIHJlc3RTcGVlZFRocmVzaG9sZD86IG51bWJlcixcbiAgdmVsb2NpdHk/OiBudW1iZXIgfCB7eDogbnVtYmVyLCB5OiBudW1iZXJ9LFxuICBib3VuY2luZXNzPzogbnVtYmVyLFxuICBzcGVlZD86IG51bWJlcixcbiAgdGVuc2lvbj86IG51bWJlcixcbiAgZnJpY3Rpb24/OiBudW1iZXIsXG4gIHN0aWZmbmVzcz86IG51bWJlcixcbiAgZGFtcGluZz86IG51bWJlcixcbiAgbWFzcz86IG51bWJlcixcbiAgZGVsYXk/OiBudW1iZXIsXG59O1xuXG5leHBvcnQgdHlwZSBTcHJpbmdBbmltYXRpb25Db25maWdTaW5nbGUgPSBBbmltYXRpb25Db25maWcgJiB7XG4gIHRvVmFsdWU6IG51bWJlciB8IEFuaW1hdGVkVmFsdWUsXG4gIG92ZXJzaG9vdENsYW1waW5nPzogYm9vbGVhbixcbiAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZD86IG51bWJlcixcbiAgcmVzdFNwZWVkVGhyZXNob2xkPzogbnVtYmVyLFxuICB2ZWxvY2l0eT86IG51bWJlcixcbiAgYm91bmNpbmVzcz86IG51bWJlcixcbiAgc3BlZWQ/OiBudW1iZXIsXG4gIHRlbnNpb24/OiBudW1iZXIsXG4gIGZyaWN0aW9uPzogbnVtYmVyLFxuICBzdGlmZm5lc3M/OiBudW1iZXIsXG4gIGRhbXBpbmc/OiBudW1iZXIsXG4gIG1hc3M/OiBudW1iZXIsXG4gIGRlbGF5PzogbnVtYmVyLFxufTtcblxuY2xhc3MgU3ByaW5nQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9uIHtcbiAgX292ZXJzaG9vdENsYW1waW5nOiBib29sZWFuO1xuICBfcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDogbnVtYmVyO1xuICBfcmVzdFNwZWVkVGhyZXNob2xkOiBudW1iZXI7XG4gIF9sYXN0VmVsb2NpdHk6IG51bWJlcjtcbiAgX3N0YXJ0UG9zaXRpb246IG51bWJlcjtcbiAgX2xhc3RQb3NpdGlvbjogbnVtYmVyO1xuICBfZnJvbVZhbHVlOiBudW1iZXI7XG4gIF90b1ZhbHVlOiBhbnk7XG4gIF9zdGlmZm5lc3M6IG51bWJlcjtcbiAgX2RhbXBpbmc6IG51bWJlcjtcbiAgX21hc3M6IG51bWJlcjtcbiAgX2luaXRpYWxWZWxvY2l0eTogbnVtYmVyO1xuICBfZGVsYXk6IG51bWJlcjtcbiAgX3RpbWVvdXQ6IGFueTtcbiAgX3N0YXJ0VGltZTogbnVtYmVyO1xuICBfbGFzdFRpbWU6IG51bWJlcjtcbiAgX2ZyYW1lVGltZTogbnVtYmVyO1xuICBfb25VcGRhdGU6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkO1xuICBfYW5pbWF0aW9uRnJhbWU6IGFueTtcbiAgX3VzZU5hdGl2ZURyaXZlcjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFNwcmluZ0FuaW1hdGlvbkNvbmZpZ1NpbmdsZSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyA9IGNvbmZpZy5vdmVyc2hvb3RDbGFtcGluZyA/PyBmYWxzZTtcbiAgICB0aGlzLl9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkID0gY29uZmlnLnJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQgPz8gMC4wMDE7XG4gICAgdGhpcy5fcmVzdFNwZWVkVGhyZXNob2xkID0gY29uZmlnLnJlc3RTcGVlZFRocmVzaG9sZCA/PyAwLjAwMTtcbiAgICB0aGlzLl9pbml0aWFsVmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl90b1ZhbHVlID0gY29uZmlnLnRvVmFsdWU7XG4gICAgdGhpcy5fZGVsYXkgPSBjb25maWcuZGVsYXkgPz8gMDtcbiAgICB0aGlzLl91c2VOYXRpdmVEcml2ZXIgPSBzaG91bGRVc2VOYXRpdmVEcml2ZXIoY29uZmlnKTtcbiAgICB0aGlzLl9faXNJbnRlcmFjdGlvbiA9IGNvbmZpZy5pc0ludGVyYWN0aW9uID8/ICF0aGlzLl91c2VOYXRpdmVEcml2ZXI7XG4gICAgdGhpcy5fX2l0ZXJhdGlvbnMgPSBjb25maWcuaXRlcmF0aW9ucyA/PyAxO1xuXG4gICAgaWYgKFxuICAgICAgY29uZmlnLnN0aWZmbmVzcyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBjb25maWcuZGFtcGluZyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBjb25maWcubWFzcyAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNvbmZpZy5ib3VuY2luZXNzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuc3BlZWQgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy50ZW5zaW9uID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuZnJpY3Rpb24gPT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ1lvdSBjYW4gZGVmaW5lIG9uZSBvZiBib3VuY2luZXNzL3NwZWVkLCB0ZW5zaW9uL2ZyaWN0aW9uLCBvciBzdGlmZm5lc3MvZGFtcGluZy9tYXNzLCBidXQgbm90IG1vcmUgdGhhbiBvbmUnLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IGNvbmZpZy5zdGlmZm5lc3MgPz8gMTAwO1xuICAgICAgdGhpcy5fZGFtcGluZyA9IGNvbmZpZy5kYW1waW5nID8/IDEwO1xuICAgICAgdGhpcy5fbWFzcyA9IGNvbmZpZy5tYXNzID8/IDE7XG4gICAgfSBlbHNlIGlmIChjb25maWcuYm91bmNpbmVzcyAhPT0gdW5kZWZpbmVkIHx8IGNvbmZpZy5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBDb252ZXJ0IHRoZSBvcmlnYW1pIGJvdW5jaW5lc3Mvc3BlZWQgdmFsdWVzIHRvIHN0aWZmbmVzcy9kYW1waW5nXG4gICAgICAvLyBXZSBhc3N1bWUgbWFzcyBpcyAxLlxuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjb25maWcudGVuc2lvbiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLmZyaWN0aW9uID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuc3RpZmZuZXNzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuZGFtcGluZyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLm1hc3MgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ1lvdSBjYW4gZGVmaW5lIG9uZSBvZiBib3VuY2luZXNzL3NwZWVkLCB0ZW5zaW9uL2ZyaWN0aW9uLCBvciBzdGlmZm5lc3MvZGFtcGluZy9tYXNzLCBidXQgbm90IG1vcmUgdGhhbiBvbmUnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNwcmluZ0NvbmZpZyA9IFNwcmluZ0NvbmZpZy5mcm9tQm91bmNpbmVzc0FuZFNwZWVkKFxuICAgICAgICBjb25maWcuYm91bmNpbmVzcyA/PyA4LFxuICAgICAgICBjb25maWcuc3BlZWQgPz8gMTIsXG4gICAgICApO1xuICAgICAgdGhpcy5fc3RpZmZuZXNzID0gc3ByaW5nQ29uZmlnLnN0aWZmbmVzcztcbiAgICAgIHRoaXMuX2RhbXBpbmcgPSBzcHJpbmdDb25maWcuZGFtcGluZztcbiAgICAgIHRoaXMuX21hc3MgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb252ZXJ0IHRoZSBvcmlnYW1pIHRlbnNpb24vZnJpY3Rpb24gdmFsdWVzIHRvIHN0aWZmbmVzcy9kYW1waW5nXG4gICAgICAvLyBXZSBhc3N1bWUgbWFzcyBpcyAxLlxuICAgICAgY29uc3Qgc3ByaW5nQ29uZmlnID0gU3ByaW5nQ29uZmlnLmZyb21PcmlnYW1pVGVuc2lvbkFuZEZyaWN0aW9uKFxuICAgICAgICBjb25maWcudGVuc2lvbiA/PyA0MCxcbiAgICAgICAgY29uZmlnLmZyaWN0aW9uID8/IDcsXG4gICAgICApO1xuICAgICAgdGhpcy5fc3RpZmZuZXNzID0gc3ByaW5nQ29uZmlnLnN0aWZmbmVzcztcbiAgICAgIHRoaXMuX2RhbXBpbmcgPSBzcHJpbmdDb25maWcuZGFtcGluZztcbiAgICAgIHRoaXMuX21hc3MgPSAxO1xuICAgIH1cblxuICAgIGludmFyaWFudCh0aGlzLl9zdGlmZm5lc3MgPiAwLCAnU3RpZmZuZXNzIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICBpbnZhcmlhbnQodGhpcy5fZGFtcGluZyA+IDAsICdEYW1waW5nIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICBpbnZhcmlhbnQodGhpcy5fbWFzcyA+IDAsICdNYXNzIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgfVxuXG4gIF9fZ2V0TmF0aXZlQW5pbWF0aW9uQ29uZmlnKCk6ICRURU1QT1JBUlkkb2JqZWN0PHt8XG4gICAgZGFtcGluZzogbnVtYmVyLFxuICAgIGluaXRpYWxWZWxvY2l0eTogbnVtYmVyLFxuICAgIGl0ZXJhdGlvbnM6IG51bWJlcixcbiAgICBtYXNzOiBudW1iZXIsXG4gICAgb3ZlcnNob290Q2xhbXBpbmc6IGJvb2xlYW4sXG4gICAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDogbnVtYmVyLFxuICAgIHJlc3RTcGVlZFRocmVzaG9sZDogbnVtYmVyLFxuICAgIHN0aWZmbmVzczogbnVtYmVyLFxuICAgIHRvVmFsdWU6IGFueSxcbiAgICB0eXBlOiAkVEVNUE9SQVJZJHN0cmluZzwnc3ByaW5nJz4sXG4gIHx9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzcHJpbmcnLFxuICAgICAgb3ZlcnNob290Q2xhbXBpbmc6IHRoaXMuX292ZXJzaG9vdENsYW1waW5nLFxuICAgICAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDogdGhpcy5fcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZCxcbiAgICAgIHJlc3RTcGVlZFRocmVzaG9sZDogdGhpcy5fcmVzdFNwZWVkVGhyZXNob2xkLFxuICAgICAgc3RpZmZuZXNzOiB0aGlzLl9zdGlmZm5lc3MsXG4gICAgICBkYW1waW5nOiB0aGlzLl9kYW1waW5nLFxuICAgICAgbWFzczogdGhpcy5fbWFzcyxcbiAgICAgIGluaXRpYWxWZWxvY2l0eTogdGhpcy5faW5pdGlhbFZlbG9jaXR5ID8/IHRoaXMuX2xhc3RWZWxvY2l0eSxcbiAgICAgIHRvVmFsdWU6IHRoaXMuX3RvVmFsdWUsXG4gICAgICBpdGVyYXRpb25zOiB0aGlzLl9faXRlcmF0aW9ucyxcbiAgICB9O1xuICB9XG5cbiAgc3RhcnQoXG4gICAgZnJvbVZhbHVlOiBudW1iZXIsXG4gICAgb25VcGRhdGU6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkLFxuICAgIG9uRW5kOiA/RW5kQ2FsbGJhY2ssXG4gICAgcHJldmlvdXNBbmltYXRpb246ID9BbmltYXRpb24sXG4gICAgYW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRWYWx1ZSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5fX2FjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5fc3RhcnRQb3NpdGlvbiA9IGZyb21WYWx1ZTtcbiAgICB0aGlzLl9sYXN0UG9zaXRpb24gPSB0aGlzLl9zdGFydFBvc2l0aW9uO1xuXG4gICAgdGhpcy5fb25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgICB0aGlzLl9fb25FbmQgPSBvbkVuZDtcbiAgICB0aGlzLl9sYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5fZnJhbWVUaW1lID0gMC4wO1xuXG4gICAgaWYgKHByZXZpb3VzQW5pbWF0aW9uIGluc3RhbmNlb2YgU3ByaW5nQW5pbWF0aW9uKSB7XG4gICAgICBjb25zdCBpbnRlcm5hbFN0YXRlID0gcHJldmlvdXNBbmltYXRpb24uZ2V0SW50ZXJuYWxTdGF0ZSgpO1xuICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gaW50ZXJuYWxTdGF0ZS5sYXN0UG9zaXRpb247XG4gICAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSBpbnRlcm5hbFN0YXRlLmxhc3RWZWxvY2l0eTtcbiAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCB2ZWxvY2l0eSB0byB0aGUgbGFzdCB2ZWxvY2l0eVxuICAgICAgdGhpcy5faW5pdGlhbFZlbG9jaXR5ID0gdGhpcy5fbGFzdFZlbG9jaXR5O1xuICAgICAgdGhpcy5fbGFzdFRpbWUgPSBpbnRlcm5hbFN0YXRlLmxhc3RUaW1lO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3VzZU5hdGl2ZURyaXZlcikge1xuICAgICAgICB0aGlzLl9fc3RhcnROYXRpdmVBbmltYXRpb24oYW5pbWF0ZWRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vICBJZiB0aGlzLl9kZWxheSBpcyBtb3JlIHRoYW4gMCwgd2Ugc3RhcnQgYWZ0ZXIgdGhlIHRpbWVvdXQuXG4gICAgaWYgKHRoaXMuX2RlbGF5KSB7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChzdGFydCwgdGhpcy5fZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEludGVybmFsU3RhdGUoKTogT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdFBvc2l0aW9uOiB0aGlzLl9sYXN0UG9zaXRpb24sXG4gICAgICBsYXN0VmVsb2NpdHk6IHRoaXMuX2xhc3RWZWxvY2l0eSxcbiAgICAgIGxhc3RUaW1lOiB0aGlzLl9sYXN0VGltZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgc3ByaW5nIG1vZGVsIGlzIGJhc2VkIG9mZiBvZiBhIGRhbXBlZCBoYXJtb25pYyBvc2NpbGxhdG9yXG4gICAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXJtb25pY19vc2NpbGxhdG9yI0RhbXBlZF9oYXJtb25pY19vc2NpbGxhdG9yKS5cbiAgICpcbiAgICogV2UgdXNlIHRoZSBjbG9zZWQgZm9ybSBvZiB0aGUgc2Vjb25kIG9yZGVyIGRpZmZlcmVudGlhbCBlcXVhdGlvbjpcbiAgICpcbiAgICogeCcnICsgKDLOtuKNtV8wKXgnICsg4o21XjJ4ID0gMFxuICAgKlxuICAgKiB3aGVyZVxuICAgKiAgICDijbVfMCA9IOKImihrIC8gbSkgKHVuZGFtcGVkIGFuZ3VsYXIgZnJlcXVlbmN5IG9mIHRoZSBvc2NpbGxhdG9yKSxcbiAgICogICAgzrYgPSBjIC8gMuKImm1rIChkYW1waW5nIHJhdGlvKSxcbiAgICogICAgYyA9IGRhbXBpbmcgY29uc3RhbnRcbiAgICogICAgayA9IHN0aWZmbmVzc1xuICAgKiAgICBtID0gbWFzc1xuICAgKlxuICAgKiBUaGUgZGVyaXZhdGlvbiBvZiB0aGUgY2xvc2VkIGZvcm0gaXMgZGVzY3JpYmVkIGluIGRldGFpbCBoZXJlOlxuICAgKiBodHRwOi8vcGxhbmV0bWF0aC5vcmcvc2l0ZXMvZGVmYXVsdC9maWxlcy90ZXhwZGYvMzk3NDUucGRmXG4gICAqXG4gICAqIFRoaXMgYWxnb3JpdGhtIGhhcHBlbnMgdG8gbWF0Y2ggdGhlIGFsZ29yaXRobSB1c2VkIGJ5IENBU3ByaW5nQW5pbWF0aW9uLFxuICAgKiBhIFF1YXJ0ekNvcmUgKGlPUykgQVBJIHRoYXQgY3JlYXRlcyBzcHJpbmcgYW5pbWF0aW9ucy5cbiAgICovXG4gIG9uVXBkYXRlKCk6IHZvaWQge1xuICAgIC8vIElmIGZvciBzb21lIHJlYXNvbiB3ZSBsb3N0IGEgbG90IG9mIGZyYW1lcyAoZS5nLiBwcm9jZXNzIGxhcmdlIHBheWxvYWQgb3JcbiAgICAvLyBzdG9wcGVkIGluIHRoZSBkZWJ1Z2dlciksIHdlIG9ubHkgYWR2YW5jZSBieSA0IGZyYW1lcyB3b3J0aCBvZlxuICAgIC8vIGNvbXB1dGF0aW9uIGFuZCB3aWxsIGNvbnRpbnVlIG9uIHRoZSBuZXh0IGZyYW1lLiBJdCdzIGJldHRlciB0byBoYXZlIGl0XG4gICAgLy8gcnVubmluZyBhdCBmYXN0ZXIgc3BlZWQgdGhhbiBqdW1waW5nIHRvIHRoZSBlbmQuXG4gICAgY29uc3QgTUFYX1NURVBTID0gNjQ7XG4gICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyA+IHRoaXMuX2xhc3RUaW1lICsgTUFYX1NURVBTKSB7XG4gICAgICBub3cgPSB0aGlzLl9sYXN0VGltZSArIE1BWF9TVEVQUztcbiAgICB9XG5cbiAgICBjb25zdCBkZWx0YVRpbWUgPSAobm93IC0gdGhpcy5fbGFzdFRpbWUpIC8gMTAwMDtcbiAgICB0aGlzLl9mcmFtZVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgY29uc3QgYzogbnVtYmVyID0gdGhpcy5fZGFtcGluZztcbiAgICBjb25zdCBtOiBudW1iZXIgPSB0aGlzLl9tYXNzO1xuICAgIGNvbnN0IGs6IG51bWJlciA9IHRoaXMuX3N0aWZmbmVzcztcbiAgICBjb25zdCB2MDogbnVtYmVyID0gLXRoaXMuX2luaXRpYWxWZWxvY2l0eTtcblxuICAgIGNvbnN0IHpldGEgPSBjIC8gKDIgKiBNYXRoLnNxcnQoayAqIG0pKTsgLy8gZGFtcGluZyByYXRpb1xuICAgIGNvbnN0IG9tZWdhMCA9IE1hdGguc3FydChrIC8gbSk7IC8vIHVuZGFtcGVkIGFuZ3VsYXIgZnJlcXVlbmN5IG9mIHRoZSBvc2NpbGxhdG9yIChyYWQvbXMpXG4gICAgY29uc3Qgb21lZ2ExID0gb21lZ2EwICogTWF0aC5zcXJ0KDEuMCAtIHpldGEgKiB6ZXRhKTsgLy8gZXhwb25lbnRpYWwgZGVjYXlcbiAgICBjb25zdCB4MCA9IHRoaXMuX3RvVmFsdWUgLSB0aGlzLl9zdGFydFBvc2l0aW9uOyAvLyBjYWxjdWxhdGUgdGhlIG9zY2lsbGF0aW9uIGZyb20geDAgPSAxIHRvIHggPSAwXG5cbiAgICBsZXQgcG9zaXRpb24gPSAwLjA7XG4gICAgbGV0IHZlbG9jaXR5ID0gMC4wO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9mcmFtZVRpbWU7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICAvLyBVbmRlciBkYW1wZWRcbiAgICAgIGNvbnN0IGVudmVsb3BlID0gTWF0aC5leHAoLXpldGEgKiBvbWVnYTAgKiB0KTtcbiAgICAgIHBvc2l0aW9uID1cbiAgICAgICAgdGhpcy5fdG9WYWx1ZSAtXG4gICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAoKCh2MCArIHpldGEgKiBvbWVnYTAgKiB4MCkgLyBvbWVnYTEpICogTWF0aC5zaW4ob21lZ2ExICogdCkgK1xuICAgICAgICAgICAgeDAgKiBNYXRoLmNvcyhvbWVnYTEgKiB0KSk7XG4gICAgICAvLyBUaGlzIGxvb2tzIGNyYXp5IC0tIGl0J3MgYWN0dWFsbHkganVzdCB0aGUgZGVyaXZhdGl2ZSBvZiB0aGVcbiAgICAgIC8vIG9zY2lsbGF0aW9uIGZ1bmN0aW9uXG4gICAgICB2ZWxvY2l0eSA9XG4gICAgICAgIHpldGEgKlxuICAgICAgICAgIG9tZWdhMCAqXG4gICAgICAgICAgZW52ZWxvcGUgKlxuICAgICAgICAgICgoTWF0aC5zaW4ob21lZ2ExICogdCkgKiAodjAgKyB6ZXRhICogb21lZ2EwICogeDApKSAvIG9tZWdhMSArXG4gICAgICAgICAgICB4MCAqIE1hdGguY29zKG9tZWdhMSAqIHQpKSAtXG4gICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAoTWF0aC5jb3Mob21lZ2ExICogdCkgKiAodjAgKyB6ZXRhICogb21lZ2EwICogeDApIC1cbiAgICAgICAgICAgIG9tZWdhMSAqIHgwICogTWF0aC5zaW4ob21lZ2ExICogdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcml0aWNhbGx5IGRhbXBlZFxuICAgICAgY29uc3QgZW52ZWxvcGUgPSBNYXRoLmV4cCgtb21lZ2EwICogdCk7XG4gICAgICBwb3NpdGlvbiA9IHRoaXMuX3RvVmFsdWUgLSBlbnZlbG9wZSAqICh4MCArICh2MCArIG9tZWdhMCAqIHgwKSAqIHQpO1xuICAgICAgdmVsb2NpdHkgPVxuICAgICAgICBlbnZlbG9wZSAqICh2MCAqICh0ICogb21lZ2EwIC0gMSkgKyB0ICogeDAgKiAob21lZ2EwICogb21lZ2EwKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbGFzdFRpbWUgPSBub3c7XG4gICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5fbGFzdFZlbG9jaXR5ID0gdmVsb2NpdHk7XG5cbiAgICB0aGlzLl9vblVwZGF0ZShwb3NpdGlvbik7XG4gICAgaWYgKCF0aGlzLl9fYWN0aXZlKSB7XG4gICAgICAvLyBhIGxpc3RlbmVyIG1pZ2h0IGhhdmUgc3RvcHBlZCB1cyBpbiBfb25VcGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb25kaXRpb25zIGZvciBzdG9wcGluZyB0aGUgc3ByaW5nIGFuaW1hdGlvblxuICAgIGxldCBpc092ZXJzaG9vdGluZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyAmJiB0aGlzLl9zdGlmZm5lc3MgIT09IDApIHtcbiAgICAgIGlmICh0aGlzLl9zdGFydFBvc2l0aW9uIDwgdGhpcy5fdG9WYWx1ZSkge1xuICAgICAgICBpc092ZXJzaG9vdGluZyA9IHBvc2l0aW9uID4gdGhpcy5fdG9WYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzT3ZlcnNob290aW5nID0gcG9zaXRpb24gPCB0aGlzLl90b1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc1ZlbG9jaXR5ID0gTWF0aC5hYnModmVsb2NpdHkpIDw9IHRoaXMuX3Jlc3RTcGVlZFRocmVzaG9sZDtcbiAgICBsZXQgaXNEaXNwbGFjZW1lbnQgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9zdGlmZm5lc3MgIT09IDApIHtcbiAgICAgIGlzRGlzcGxhY2VtZW50ID1cbiAgICAgICAgTWF0aC5hYnModGhpcy5fdG9WYWx1ZSAtIHBvc2l0aW9uKSA8PSB0aGlzLl9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkO1xuICAgIH1cblxuICAgIGlmIChpc092ZXJzaG9vdGluZyB8fCAoaXNWZWxvY2l0eSAmJiBpc0Rpc3BsYWNlbWVudCkpIHtcbiAgICAgIGlmICh0aGlzLl9zdGlmZm5lc3MgIT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgZW5kIHVwIHdpdGggYSByb3VuZCB2YWx1ZVxuICAgICAgICB0aGlzLl9sYXN0UG9zaXRpb24gPSB0aGlzLl90b1ZhbHVlO1xuICAgICAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSAwO1xuICAgICAgICB0aGlzLl9vblVwZGF0ZSh0aGlzLl90b1ZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX2RlYm91bmNlZE9uRW5kKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gICAgdGhpcy5fX2FjdGl2ZSA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWUpO1xuICAgIHRoaXMuX19kZWJvdW5jZWRPbkVuZCh7ZmluaXNoZWQ6IGZhbHNlfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTcHJpbmdBbmltYXRpb247XG4iXSwibWFwcGluZ3MiOiJBQVNBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFG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