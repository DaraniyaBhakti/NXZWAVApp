ad62db963ba73d46f4abb7b4715e3ece
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var Batchinator = require('../Interaction/Batchinator');
var FillRateHelper = require('./FillRateHelper');
var PropTypes = require('prop-types');
var React = require('react');
var ReactNative = require('../Renderer/shims/ReactNative');
var RefreshControl = require('../Components/RefreshControl/RefreshControl');
var ScrollView = require('../Components/ScrollView/ScrollView');
var StyleSheet = require('../StyleSheet/StyleSheet');
var View = require('../Components/View/View');
var ViewabilityHelper = require('./ViewabilityHelper');
var flattenStyle = require('../StyleSheet/flattenStyle');
var infoLog = require('../Utilities/infoLog');
var invariant = require('invariant');
var warning = require('fbjs/lib/warning');
var _require = require('./VirtualizeUtils'),
  computeWindowedRenderLimits = _require.computeWindowedRenderLimits;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);
  var _super = _createSuper(VirtualizedList);
  function VirtualizedList(_props, context) {
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props, context);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.virtualizedList.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };
    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);
      return existingChildData && existingChildData.state;
    };
    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);
      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);
      var existingChildData = _this._nestedChildLists.get(childList.key);
      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');
      }
      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDataChangedSinceEndReached = true;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(View, props);
      } else if (onRefresh) {
        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(ScrollView, props);
      }
    };
    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = (0, _extends2.default)({}, curr, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        _this.scrollToIndex({
          animated: false,
          index: _this.props.initialScrollIndex
        });
        _this._hasDoneInitialScroll = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };
      _this._updateViewableItems(_this.props.data);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEndReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      var _this$props = _this.props,
        data = _this$props.data,
        getItemCount = _this$props.getItemCount,
        onEndReachedThreshold = _this$props.onEndReachedThreshold;
      var isVirtualizationDisabled = _this._isVirtualizationDisabled();
      _this._updateViewableItems(data);
      if (!data) {
        return;
      }
      _this.setState(function (state) {
        var newState;
        if (!isVirtualizationDisabled) {
          if (_this._scrollMetrics.visibleLength) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = computeWindowedRenderLimits(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var _this$_scrollMetrics = _this._scrollMetrics,
            contentLength = _this$_scrollMetrics.contentLength,
            offset = _this$_scrollMetrics.offset,
            visibleLength = _this$_scrollMetrics.visibleLength;
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }
        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;
          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);
            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);
            if (!childListKeys) {
              continue;
            }
            var someChildHasMore = false;
            for (var _iterator = _createForOfIteratorHelperLoose(childListKeys), _step; !(_step = _iterator()).done;) {
              var childKey = _step.value;
              var childList = _this._nestedChildLists.get(childKey);
              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }
            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }
        return newState;
      });
    };
    _this._createViewToken = function (index, isViewable) {
      var _this$props2 = _this.props,
        data = _this$props2.data,
        getItem = _this$props2.getItem,
        keyExtractor = _this$props2.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    };
    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index) {
      var _this$props3 = _this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount,
        getItemLayout = _this$props3.getItemLayout,
        keyExtractor = _this$props3.keyExtractor;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);
      var frame = item && _this._frames[keyExtractor(item, index)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
          if (__DEV__) {
            var frameType = PropTypes.shape({
              length: PropTypes.number.isRequired,
              offset: PropTypes.number.isRequired,
              index: PropTypes.number.isRequired
            }).isRequired;
            PropTypes.checkPropTypes({
              frame: frameType
            }, {
              frame: frame
            }, 'frame', 'VirtualizedList.getItemLayout');
          }
        }
      }
      return frame;
    };
    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      _this._viewabilityTuples.push({
        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),
        onViewableItemsChanged: _this.props.onViewableItemsChanged
      });
    }
    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };
    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());
      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }
    _this.state = initialState;
    return _this;
  }
  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      var frame = this._getFrameMetricsApprox(veryLast);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props4 = this.props,
        data = _this$props4.data,
        horizontal = _this$props4.horizontal,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        onScrollToIndexFailed = _this$props4.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      invariant(index >= 0 && index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " but maximum is " + (getItemCount(data) - 1));
      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }
      var frame = this._getFrameMetricsApprox(index);
      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props5 = this.props,
        data = _this$props5.data,
        getItem = _this$props5.getItem,
        getItemCount = _this$props5.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex((0, _extends2.default)({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedList: {
          getScrollMetrics: this._getScrollMetrics,
          horizontal: this.props.horizontal,
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        }
      };
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this.props.listKey || this._getCellKey(),
          ref: this
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.unregisterAsNestedChild({
          key: this.props.listKey || this._getCellKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }
      this._updateViewableItems(null);
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props6 = this.props,
        CellRendererComponent = _this$props6.CellRendererComponent,
        ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
        data = _this$props6.data,
        getItem = _this$props6.getItem,
        getItemCount = _this$props6.getItemCount,
        horizontal = _this$props6.horizontal,
        keyExtractor = _this$props6.keyExtractor;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop(ii) {
        var item = getItem(data, ii);
        var key = keyExtractor(item, ii);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        cells.push(React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {
            return _this2._onCellLayout(e, key, ii);
          },
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          }
        }));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization || false;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context.virtualizedList;
      return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);
        warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
      }
      var _this$props7 = this.props,
        ListEmptyComponent = _this$props7.ListEmptyComponent,
        ListFooterComponent = _this$props7.ListFooterComponent,
        ListHeaderComponent = _this$props7.ListHeaderComponent;
      var _this$props8 = this.props,
        data = _this$props8.data,
        horizontal = _this$props8.horizontal;
      var isVirtualizationDisabled = this._isVirtualizationDisabled();
      var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-header',
          key: "$header"
        }, React.createElement(View, {
          onLayout: this._onLayoutHeader,
          style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle)
        }, element)));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = !horizontal ? 'height' : 'width';
        var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
        var _this$state = this.state,
          first = _this$state.first,
          last = _this$state.last;
        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);
        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);
        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;
          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;
            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);
                var stickyBlock = this._getFrameMetricsApprox(ii);
                var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_lead",
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }));
                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);
                var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_trail",
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }));
                insertedStickySpacer = true;
                break;
              }
            }
          }
          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);
            var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);
            cells.push(React.createElement(View, {
              key: "$lead_spacer",
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }));
          }
        }
        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(last);
          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);
          var endFrame = this._getFrameMetricsApprox(end);
          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push(React.createElement(View, {
            key: "$tail_spacer",
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);
        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);
            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: StyleSheet.compose(inversionStyle, _element.props.style)
        }));
      }
      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);
        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-footer',
          key: "$footer"
        }, React.createElement(View, {
          onLayout: this._onLayoutFooter,
          style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle)
        }, _element2)));
      }
      var scrollProps = (0, _extends2.default)({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: this.props.scrollEventThrottle,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices
      });
      if (inversionStyle) {
        scrollProps.style = [inversionStyle, this.props.style];
      }
      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var innerRet = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
        ref: this._captureScrollRef
      }, cells);
      var ret = innerRet;
      if (__DEV__) {
        ret = React.createElement(ScrollView.Context.Consumer, null, function (scrollContext) {
          if (scrollContext != null && !scrollContext.horizontal === !_this3.props.horizontal && !_this3._hasWarned.nesting && _this3.context.virtualizedList == null) {
            console.warn('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation - use another VirtualizedList-backed container instead.');
            _this3._hasWarned.nesting = true;
          }
          return innerRet;
        });
      }
      if (this.props.debug) {
        return React.createElement(View, {
          style: styles.debug
        }, ret, this._renderDebugOverlay());
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props9 = this.props,
        data = _this$props9.data,
        extraData = _this$props9.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._hasDataChangedSinceEndReached = true;
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_onCellLayout",
    value: function _onCellLayout(e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = this._frames[cellKey];
      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);
        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }
      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);
      if (childListKeys) {
        for (var _iterator2 = _createForOfIteratorHelperLoose(childListKeys), _step2; !(_step2 = _iterator2()).done;) {
          var childKey = _step2.value;
          var childList = this._nestedChildLists.get(childKey);
          childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
        }
      }
      this._computeBlankness();
      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef().getNativeScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.virtualizedList.getScrollMetrics());
          _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
          _this4._scrollMetrics.offset = scrollMetrics.offset;
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);
        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;
      var frameLast = this._getFrameMetricsApprox(this.state.last);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlay]
      }, framesInLayout.map(function (f, ii) {
        return React.createElement(View, {
          key: 'f' + ii,
          style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
            top: f.offset * normalize,
            height: f.length * normalize
          }]
        });
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
          top: windowTop * normalize,
          height: windowLen * normalize
        }]
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
          top: visTop * normalize,
          height: visLen * normalize
        }]
      }));
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !this.props.horizontal ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !this.props.horizontal ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props10 = this.props,
        data = _this$props10.data,
        getItemCount = _this$props10.getItemCount,
        onEndReached = _this$props10.onEndReached,
        onEndReachedThreshold = _this$props10.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {
        this._hasDataChangedSinceEndReached = false;
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
        first = _this$state2.first,
        last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;
      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;
        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }
      if (last < itemCount - 1) {
        var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }
      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;
      var getItemCount = this.props.getItemCount;
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
        getItemCount = newProps.getItemCount,
        maxToRenderPerBatch = newProps.maxToRenderPerBatch;
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);
VirtualizedList.defaultProps = {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }
    if (item.id != null) {
      return item.id;
    }
    _usedIndexForKey = true;
    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }
    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
};
VirtualizedList.contextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  }),
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
};
VirtualizedList.childContextTypes = {
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
};
var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);
  var _super2 = _createSuper(CellRenderer);
  function CellRenderer() {
    var _this6;
    (0, _classCallCheck2.default)(this, CellRenderer);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this6 = _super2.call.apply(_super2, [this].concat(args));
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
          cellKey = _this6$props.cellKey,
          prevCellKey = _this6$props.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
          cellKey = _this6$props2.cellKey,
          prevCellKey = _this6$props2.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
          cellKey = _this6$props3.cellKey,
          prevCellKey = _this6$props3.prevCellKey;
        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }
  (0, _createClass2.default)(CellRenderer, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: (0, _extends2.default)({}, state.separatorProps, newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "_renderElement",
    value: function _renderElement(renderItem, ListItemComponent, item, index) {
      if (renderItem && ListItemComponent) {
        console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
      }
      if (ListItemComponent) {
        return React.createElement(ListItemComponent, {
          item: item,
          index: index,
          separators: this._separators
        });
      }
      if (renderItem) {
        return renderItem({
          item: item,
          index: index,
          separators: this._separators
        });
      }
      invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props11 = this.props,
        CellRendererComponent = _this$props11.CellRendererComponent,
        ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
        fillRateHelper = _this$props11.fillRateHelper,
        horizontal = _this$props11.horizontal,
        item = _this$props11.item,
        index = _this$props11.index,
        inversionStyle = _this$props11.inversionStyle,
        parentProps = _this$props11.parentProps;
      var renderItem = parentProps.renderItem,
        getItemLayout = parentProps.getItemLayout,
        ListItemComponent = parentProps.ListItemComponent;
      var element = this._renderElement(renderItem, ListItemComponent, item, index);
      var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
      var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
      var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
      if (!CellRendererComponent) {
        return React.createElement(View, {
          style: cellStyle,
          onLayout: onLayout
        }, element, itemSeparator);
      }
      return React.createElement(CellRendererComponent, (0, _extends2.default)({}, this.props, {
        style: cellStyle,
        onLayout: onLayout
      }), element, itemSeparator);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      return {
        separatorProps: (0, _extends2.default)({}, prevState.separatorProps, {
          leadingItem: props.item
        })
      };
    }
  }]);
  return CellRenderer;
}(React.Component);
CellRenderer.childContextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
};
var VirtualizedCellWrapper = function (_React$Component2) {
  (0, _inherits2.default)(VirtualizedCellWrapper, _React$Component2);
  var _super3 = _createSuper(VirtualizedCellWrapper);
  function VirtualizedCellWrapper() {
    (0, _classCallCheck2.default)(this, VirtualizedCellWrapper);
    return _super3.apply(this, arguments);
  }
  (0, _createClass2.default)(VirtualizedCellWrapper, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return VirtualizedCellWrapper;
}(React.Component);
VirtualizedCellWrapper.childContextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
};
var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJfZXh0ZW5kczIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQyIiwiX2luaGVyaXRzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNhbGwiLCJuZXh0IiwiYmluZCIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsImxlbmd0aCIsImkiLCJkb25lIiwidmFsdWUiLCJUeXBlRXJyb3IiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2NyZWF0ZVN1cGVySW50ZXJuYWwiLCJTdXBlciIsImRlZmF1bHQiLCJyZXN1bHQiLCJOZXdUYXJnZXQiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImUiLCJCYXRjaGluYXRvciIsIkZpbGxSYXRlSGVscGVyIiwiUHJvcFR5cGVzIiwiUmVhY3QiLCJSZWFjdE5hdGl2ZSIsIlJlZnJlc2hDb250cm9sIiwiU2Nyb2xsVmlldyIsIlN0eWxlU2hlZXQiLCJWaWV3IiwiVmlld2FiaWxpdHlIZWxwZXIiLCJmbGF0dGVuU3R5bGUiLCJpbmZvTG9nIiwiaW52YXJpYW50Iiwid2FybmluZyIsIl9yZXF1aXJlIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwiX3VzZWRJbmRleEZvcktleSIsIl9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUiLCJWaXJ0dWFsaXplZExpc3QiLCJfUmVhY3QkUHVyZUNvbXBvbmVudCIsIl9zdXBlciIsInByb3BzIiwiY29udGV4dCIsIl90aGlzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJfc2Nyb2xsTWV0cmljcyIsIl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsInZpcnR1YWxpemVkTGlzdCIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsImtleSIsImV4aXN0aW5nQ2hpbGREYXRhIiwiX25lc3RlZENoaWxkTGlzdHMiLCJnZXQiLCJzdGF0ZSIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJjaGlsZExpc3RzSW5DZWxsIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiY2VsbEtleSIsIlNldCIsImFkZCIsInNldCIsInJlZiIsImNvbnNvbGUiLCJlcnJvciIsIl9oYXNJbnRlcmFjdGVkIiwicmVjb3JkSW50ZXJhY3Rpb24iLCJfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfb25VcGRhdGVTZXBhcmF0b3JzIiwia2V5cyIsIm5ld1Byb3BzIiwiZm9yRWFjaCIsIl9jZWxsUmVmcyIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiTWFwIiwiX2ZyYW1lcyIsIl9mb290ZXJMZW5ndGgiLCJfaGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQiLCJfaGFzRG9uZUluaXRpYWxTY3JvbGwiLCJfaGFzTW9yZSIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJjcmVhdGVFbGVtZW50IiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWZyZXNoQ29udHJvbCIsInByb2dyZXNzVmlld09mZnNldCIsIl9vbkNlbGxVbm1vdW50IiwiY3VyciIsImluTGF5b3V0IiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9zZWxlY3RMZW5ndGgiLCJuYXRpdmVFdmVudCIsImxheW91dCIsIm9uTGF5b3V0IiwiX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSIsIl9tYXliZUNhbGxPbkVuZFJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl9vbkxheW91dEhlYWRlciIsIl9vbkNvbnRlbnRTaXplQ2hhbmdlIiwid2lkdGgiLCJoZWlnaHQiLCJpbml0aWFsU2Nyb2xsSW5kZXgiLCJzY3JvbGxUb0luZGV4IiwiYW5pbWF0ZWQiLCJpbmRleCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX3NlbGVjdE9mZnNldCIsImNvbnRlbnRPZmZzZXQiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJNYXRoIiwibWF4IiwicGVyZiIsInByZXZEdCIsIl91cGRhdGVWaWV3YWJsZUl0ZW1zIiwiZGF0YSIsIl9maWxsUmF0ZUhlbHBlciIsImFjdGl2YXRlIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfb25TY3JvbGxCZWdpbkRyYWciLCJ0dXBsZSIsInZpZXdhYmlsaXR5SGVscGVyIiwib25TY3JvbGxCZWdpbkRyYWciLCJfb25TY3JvbGxFbmREcmFnIiwib25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJfdGhpcyRwcm9wcyIsImdldEl0ZW1Db3VudCIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZCIsImlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsIl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwiX2dldEZyYW1lTWV0cmljc0FwcHJveCIsIl90aGlzJF9zY3JvbGxNZXRyaWNzIiwiZGlzdGFuY2VGcm9tRW5kIiwicmVuZGVyQWhlYWQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwiZmlyc3QiLCJsYXN0IiwibWluIiwic2l6ZSIsIm5ld0ZpcnN0IiwibmV3TGFzdCIsImlpIiwiY2VsbEtleUZvckluZGV4IiwiY2hpbGRMaXN0S2V5cyIsInNvbWVDaGlsZEhhc01vcmUiLCJfaXRlcmF0b3IiLCJfc3RlcCIsImNoaWxkS2V5IiwiaGFzTW9yZSIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpc1ZpZXdhYmxlIiwiX3RoaXMkcHJvcHMyIiwiZ2V0SXRlbSIsImtleUV4dHJhY3RvciIsIml0ZW0iLCJmcmFtZSIsIl9nZXRGcmFtZU1ldHJpY3MiLCJnZXRJdGVtTGF5b3V0IiwiX3RoaXMkcHJvcHMzIiwiX19ERVZfXyIsImZyYW1lVHlwZSIsInNoYXBlIiwibnVtYmVyIiwiaXNSZXF1aXJlZCIsImNoZWNrUHJvcFR5cGVzIiwiX19pc05hdGl2ZSIsIndpbmRvd1NpemUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJ1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsInB1c2giLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJzdG9yZWRTdGF0ZSIsImdldE5lc3RlZENoaWxkU3RhdGUiLCJsaXN0S2V5IiwiX2dldENlbGxLZXkiLCJmcmFtZXMiLCJzY3JvbGxUb0VuZCIsInBhcmFtcyIsInZlcnlMYXN0Iiwic2Nyb2xsVG8iLCJob3Jpem9udGFsIiwieCIsInkiLCJfdGhpcyRwcm9wczQiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHM1IiwiaXRlbUNvdW50Iiwic2Nyb2xsVG9PZmZzZXQiLCJ0IiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJmaW5kTm9kZUhhbmRsZSIsImdldFNjcm9sbFJlZiIsInNldE5hdGl2ZVByb3BzIiwiZ2V0Q2hpbGRDb250ZXh0IiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInVucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwidmlydHVhbGl6ZWRDZWxsIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRpc3Bvc2UiLCJhYm9ydCIsImRlYWN0aXZhdGVBbmRGbHVzaCIsIl9wdXNoQ2VsbHMiLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJfdGhpczIiLCJfdGhpcyRwcm9wczYiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50Iiwic3RpY2t5T2Zmc2V0IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJoYXMiLCJDZWxsUmVuZGVyZXIiLCJ1bmRlZmluZWQiLCJmaWxsUmF0ZUhlbHBlciIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsIl9vbkNlbGxMYXlvdXQiLCJvblVubW91bnQiLCJwYXJlbnRQcm9wcyIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsIm5lc3RlZENvbnRleHQiLCJyZW5kZXIiLCJfdGhpczMiLCJmbGF0U3R5bGVzIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwiZmxleFdyYXAiLCJfdGhpcyRwcm9wczciLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiX3RoaXMkcHJvcHM4IiwiaW52ZXJ0ZWQiLCJzdHlsZXMiLCJob3Jpem9udGFsbHlJbnZlcnRlZCIsInZlcnRpY2FsbHlJbnZlcnRlZCIsImVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkQ2VsbFdyYXBwZXIiLCJzdHlsZSIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJzcGFjZXJLZXkiLCJsYXN0SW5pdGlhbEluZGV4IiwiX3RoaXMkc3RhdGUiLCJmaXJzdEFmdGVySW5pdGlhbCIsImluc2VydGVkU3RpY2t5U3BhY2VyIiwiaW5pdEJsb2NrIiwic3RpY2t5QmxvY2siLCJsZWFkU3BhY2UiLCJ0cmFpbFNwYWNlIiwiZmlyc3RTcGFjZSIsIndhcm4iLCJsYXN0RnJhbWUiLCJlbmRGcmFtZSIsInRhaWxTcGFjZXJMZW5ndGgiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsImludmVydFN0aWNreUhlYWRlcnMiLCJpbm5lclJldCIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsIkNvbnRleHQiLCJDb25zdW1lciIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwiZGVidWciLCJfcmVuZGVyRGVidWdPdmVybGF5IiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3RoaXMkcHJvcHM5IiwiZXh0cmFEYXRhIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJoaVByaUluUHJvZ3Jlc3MiLCJjb21wdXRlQmxhbmtuZXNzIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIl90aGlzNCIsIm1lYXN1cmVMYXlvdXQiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJzY3JvbGxNZXRyaWNzIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJmIiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIl90aGlzJHByb3BzMTAiLCJvbkVuZFJlYWNoZWQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczIiLCJfdGhpcyRzdGF0ZTIiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczMiLCJoaVByaSIsInNjcm9sbGluZ1RocmVzaG9sZCIsImRpc3RUb3AiLCJkaXN0Qm90dG9tIiwic2NoZWR1bGUiLCJfdGhpczUiLCJvblVwZGF0ZSIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIlB1cmVDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJpZCIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0cmluZyIsImNvbnRleHRUeXBlcyIsInN0cmluZyIsImZ1bmMiLCJib29sIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJfUmVhY3QkQ29tcG9uZW50IiwiX3N1cGVyMiIsIl90aGlzNiIsIl9sZW4iLCJhcmdzIiwiX2tleSIsImNvbmNhdCIsInNlcGFyYXRvclByb3BzIiwiaGlnaGxpZ2h0ZWQiLCJsZWFkaW5nSXRlbSIsIl9zZXBhcmF0b3JzIiwiaGlnaGxpZ2h0IiwiX3RoaXM2JHByb3BzIiwidW5oaWdobGlnaHQiLCJfdGhpczYkcHJvcHMyIiwidXBkYXRlUHJvcHMiLCJzZWxlY3QiLCJfdGhpczYkcHJvcHMzIiwiX3JlbmRlckVsZW1lbnQiLCJyZW5kZXJJdGVtIiwiTGlzdEl0ZW1Db21wb25lbnQiLCJzZXBhcmF0b3JzIiwiX3RoaXMkcHJvcHMxMSIsImVuYWJsZWQiLCJpdGVtU2VwYXJhdG9yIiwiY2VsbFN0eWxlIiwicm93UmV2ZXJzZSIsImNvbHVtblJldmVyc2UiLCJyb3ciLCJDb21wb25lbnQiLCJfUmVhY3QkQ29tcG9uZW50MiIsIl9zdXBlcjMiLCJjaGlsZHJlbiIsImNyZWF0ZSIsInRyYW5zZm9ybSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXhEaXJlY3Rpb24iLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQmF0Y2hpbmF0b3IgPSByZXF1aXJlKCcuLi9JbnRlcmFjdGlvbi9CYXRjaGluYXRvcicpO1xuY29uc3QgRmlsbFJhdGVIZWxwZXIgPSByZXF1aXJlKCcuL0ZpbGxSYXRlSGVscGVyJyk7XG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7XG5jb25zdCBSZWZyZXNoQ29udHJvbCA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvUmVmcmVzaENvbnRyb2wvUmVmcmVzaENvbnRyb2wnKTtcbmNvbnN0IFNjcm9sbFZpZXcgPSByZXF1aXJlKCcuLi9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldycpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvVmlldy9WaWV3Jyk7XG5jb25zdCBWaWV3YWJpbGl0eUhlbHBlciA9IHJlcXVpcmUoJy4vVmlld2FiaWxpdHlIZWxwZXInKTtcblxuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnKTtcbmNvbnN0IGluZm9Mb2cgPSByZXF1aXJlKCcuLi9VdGlsaXRpZXMvaW5mb0xvZycpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5jb25zdCB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5jb25zdCB7Y29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzfSA9IHJlcXVpcmUoJy4vVmlydHVhbGl6ZVV0aWxzJyk7XG5cbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBWaWV3YWJpbGl0eUNvbmZpZyxcbiAgVmlld1Rva2VuLFxuICBWaWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcixcbn0gZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5cbnR5cGUgSXRlbSA9IGFueTtcblxuZXhwb3J0IHR5cGUgU2VwYXJhdG9ycyA9IHtcbiAgaGlnaGxpZ2h0OiAoKSA9PiB2b2lkLFxuICB1bmhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgdXBkYXRlUHJvcHM6IChzZWxlY3Q6ICdsZWFkaW5nJyB8ICd0cmFpbGluZycsIG5ld1Byb3BzOiBPYmplY3QpID0+IHZvaWQsXG59O1xuXG5leHBvcnQgdHlwZSBSZW5kZXJJdGVtUHJvcHM8SXRlbVQ+ID0ge1xuICBpdGVtOiBJdGVtVCxcbiAgaW5kZXg6IG51bWJlcixcbiAgc2VwYXJhdG9yczogU2VwYXJhdG9ycyxcbn07XG5cbmV4cG9ydCB0eXBlIFJlbmRlckl0ZW1UeXBlPEl0ZW1UPiA9IChcbiAgaW5mbzogUmVuZGVySXRlbVByb3BzPEl0ZW1UPixcbikgPT4gUmVhY3QuTm9kZTtcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gIH0pID0+IHZvaWQsXG59O1xuXG50eXBlIFJlcXVpcmVkUHJvcHMgPSB7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhY2Nlc3NvciBmdW5jdGlvbnMgYXNzdW1lIHRoaXMgaXMgYW4gQXJyYXk8e2tleTogc3RyaW5nfSB8IHtpZDogc3RyaW5nfT4gYnV0IHlvdSBjYW4gb3ZlcnJpZGVcbiAgICogZ2V0SXRlbSwgZ2V0SXRlbUNvdW50LCBhbmQga2V5RXh0cmFjdG9yIHRvIGhhbmRsZSBhbnkgdHlwZSBvZiBpbmRleC1iYXNlZCBkYXRhLlxuICAgKi9cbiAgZGF0YT86IGFueSxcbiAgLyoqXG4gICAqIEEgZ2VuZXJpYyBhY2Nlc3NvciBmb3IgZXh0cmFjdGluZyBhbiBpdGVtIGZyb20gYW55IHNvcnQgb2YgZGF0YSBibG9iLlxuICAgKi9cbiAgZ2V0SXRlbTogKGRhdGE6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gP0l0ZW0sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGhvdyBtYW55IGl0ZW1zIGFyZSBpbiB0aGUgZGF0YSBibG9iLlxuICAgKi9cbiAgZ2V0SXRlbUNvdW50OiAoZGF0YTogYW55KSA9PiBudW1iZXIsXG59O1xudHlwZSBPcHRpb25hbFByb3BzID0ge1xuICAvLyBUT0RPOiBDb25mbGljdHMgd2l0aCB0aGUgb3B0aW9uYWwgYHJlbmRlckl0ZW1gIGluXG4gIC8vIGBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0YCdzIHByb3BzLlxuICByZW5kZXJJdGVtPzogJEZsb3dGaXhNZTw/UmVuZGVySXRlbVR5cGU8SXRlbT4+LFxuICAvKipcbiAgICogYGRlYnVnYCB3aWxsIHR1cm4gb24gZXh0cmEgbG9nZ2luZyBhbmQgdmlzdWFsIG92ZXJsYXlzIHRvIGFpZCB3aXRoIGRlYnVnZ2luZyBib3RoIHVzYWdlIGFuZFxuICAgKiBpbXBsZW1lbnRhdGlvbiwgYnV0IHdpdGggYSBzaWduaWZpY2FudCBwZXJmIGhpdC5cbiAgICovXG4gIGRlYnVnPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBERVBSRUNBVEVEOiBWaXJ0dWFsaXphdGlvbiBwcm92aWRlcyBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IG9wdGltaXphdGlvbnMsIGJ1dCBmdWxseVxuICAgKiB1bm1vdW50cyByZWFjdCBpbnN0YW5jZXMgdGhhdCBhcmUgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gWW91IHNob3VsZCBvbmx5IG5lZWQgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAqL1xuICBkaXNhYmxlVmlydHVhbGl6YXRpb24/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgbWFya2VyIHByb3BlcnR5IGZvciB0ZWxsaW5nIHRoZSBsaXN0IHRvIHJlLXJlbmRlciAoc2luY2UgaXQgaW1wbGVtZW50cyBgUHVyZUNvbXBvbmVudGApLiBJZlxuICAgKiBhbnkgb2YgeW91ciBgcmVuZGVySXRlbWAsIEhlYWRlciwgRm9vdGVyLCBldGMuIGZ1bmN0aW9ucyBkZXBlbmQgb24gYW55dGhpbmcgb3V0c2lkZSBvZiB0aGVcbiAgICogYGRhdGFgIHByb3AsIHN0aWNrIGl0IGhlcmUgYW5kIHRyZWF0IGl0IGltbXV0YWJseS5cbiAgICovXG4gIGV4dHJhRGF0YT86IGFueSxcbiAgZ2V0SXRlbUxheW91dD86IChcbiAgICBkYXRhOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKSA9PiB7bGVuZ3RoOiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyfSwgLy8gZS5nLiBoZWlnaHQsIHlcbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGluIHRoZSBpbml0aWFsIGJhdGNoLiBUaGlzIHNob3VsZCBiZSBlbm91Z2ggdG8gZmlsbCB0aGUgc2NyZWVuIGJ1dCBub3RcbiAgICogbXVjaCBtb3JlLiBOb3RlIHRoZXNlIGl0ZW1zIHdpbGwgbmV2ZXIgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2YgdGhlIHdpbmRvd2VkIHJlbmRlcmluZyBpbiBvcmRlclxuICAgKiB0byBpbXByb3ZlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBvZiBzY3JvbGwtdG8tdG9wIGFjdGlvbnMuXG4gICAqL1xuICBpbml0aWFsTnVtVG9SZW5kZXI6IG51bWJlcixcbiAgLyoqXG4gICAqIEluc3RlYWQgb2Ygc3RhcnRpbmcgYXQgdGhlIHRvcCB3aXRoIHRoZSBmaXJzdCBpdGVtLCBzdGFydCBhdCBgaW5pdGlhbFNjcm9sbEluZGV4YC4gVGhpc1xuICAgKiBkaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gdG9wXCIgb3B0aW1pemF0aW9uIHRoYXQga2VlcHMgdGhlIGZpcnN0IGBpbml0aWFsTnVtVG9SZW5kZXJgIGl0ZW1zXG4gICAqIGFsd2F5cyByZW5kZXJlZCBhbmQgaW1tZWRpYXRlbHkgcmVuZGVycyB0aGUgaXRlbXMgc3RhcnRpbmcgYXQgdGhpcyBpbml0aWFsIGluZGV4LiBSZXF1aXJlc1xuICAgKiBgZ2V0SXRlbUxheW91dGAgdG8gYmUgaW1wbGVtZW50ZWQuXG4gICAqL1xuICBpbml0aWFsU2Nyb2xsSW5kZXg/OiA/bnVtYmVyLFxuICAvKipcbiAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBzY3JvbGwuIFVzZXMgc2NhbGUgdHJhbnNmb3JtcyBvZiAtMS5cbiAgICovXG4gIGludmVydGVkPzogP2Jvb2xlYW4sXG4gIGtleUV4dHJhY3RvcjogKGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgLyoqXG4gICAqIEVhY2ggY2VsbCBpcyByZW5kZXJlZCB1c2luZyB0aGlzIGVsZW1lbnQuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcyxcbiAgICogb3IgYSByZW5kZXIgZnVuY3Rpb24uIERlZmF1bHRzIHRvIHVzaW5nIFZpZXcuXG4gICAqL1xuICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAvKipcbiAgICogRWFjaCBkYXRhIGl0ZW0gaXMgcmVuZGVyZWQgdXNpbmcgdGhpcyBlbGVtZW50LiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsXG4gICAqIG9yIGEgcmVuZGVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgTGlzdEl0ZW1Db21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAvKipcbiAgICogUmVuZGVyZWQgd2hlbiB0aGUgbGlzdCBpcyBlbXB0eS4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEVtcHR5Q29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIGJvdHRvbSBvZiBhbGwgdGhlIGl0ZW1zLiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0Rm9vdGVyQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogU3R5bGluZyBmb3IgaW50ZXJuYWwgVmlldyBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlPzogVmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEhlYWRlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbWF5IHN1ZmZlciBiZWNhdXNlIHJlbmRlcmluZyBjb250ZW50IG1heVxuICAgKiBpbnRlcmZlcmUgd2l0aCByZXNwb25kaW5nIHRvIGJ1dHRvbiB0YXBzIG9yIG90aGVyIGludGVyYWN0aW9ucy5cbiAgICovXG4gIG1heFRvUmVuZGVyUGVyQmF0Y2g6IG51bWJlcixcbiAgb25FbmRSZWFjaGVkPzogPyhpbmZvOiB7ZGlzdGFuY2VGcm9tRW5kOiBudW1iZXJ9KSA9PiB2b2lkLFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ/OiA/bnVtYmVyLCAvLyB1bml0cyBvZiB2aXNpYmxlIGxlbmd0aFxuICBvbkxheW91dD86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCBhIHN0YW5kYXJkIFJlZnJlc2hDb250cm9sIHdpbGwgYmUgYWRkZWQgZm9yIFwiUHVsbCB0byBSZWZyZXNoXCIgZnVuY3Rpb25hbGl0eS4gTWFrZVxuICAgKiBzdXJlIHRvIGFsc28gc2V0IHRoZSBgcmVmcmVzaGluZ2AgcHJvcCBjb3JyZWN0bHkuXG4gICAqL1xuICBvblJlZnJlc2g/OiA/RnVuY3Rpb24sXG4gIC8qKlxuICAgKiBVc2VkIHRvIGhhbmRsZSBmYWlsdXJlcyB3aGVuIHNjcm9sbGluZyB0byBhbiBpbmRleCB0aGF0IGhhcyBub3QgYmVlbiBtZWFzdXJlZCB5ZXQuIFJlY29tbWVuZGVkXG4gICAqIGFjdGlvbiBpcyB0byBlaXRoZXIgY29tcHV0ZSB5b3VyIG93biBvZmZzZXQgYW5kIGBzY3JvbGxUb2AgaXQsIG9yIHNjcm9sbCBhcyBmYXIgYXMgcG9zc2libGUgYW5kXG4gICAqIHRoZW4gdHJ5IGFnYWluIGFmdGVyIG1vcmUgaXRlbXMgaGF2ZSBiZWVuIHJlbmRlcmVkLlxuICAgKi9cbiAgb25TY3JvbGxUb0luZGV4RmFpbGVkPzogPyhpbmZvOiB7XG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiBudW1iZXIsXG4gICAgYXZlcmFnZUl0ZW1MZW5ndGg6IG51bWJlcixcbiAgfSkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3YWJpbGl0eSBvZiByb3dzIGNoYW5nZXMsIGFzIGRlZmluZWQgYnkgdGhlXG4gICAqIGB2aWV3YWJpbGl0eUNvbmZpZ2AgcHJvcC5cbiAgICovXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ/OiA/KGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gIH0pID0+IHZvaWQsXG4gIHBlcnNpc3RlbnRTY3JvbGxiYXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNldCB0aGlzIHdoZW4gb2Zmc2V0IGlzIG5lZWRlZCBmb3IgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHRvIHNob3cgY29ycmVjdGx5LlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PzogbnVtYmVyLFxuICAvKipcbiAgICogQSBjdXN0b20gcmVmcmVzaCBjb250cm9sIGVsZW1lbnQuIFdoZW4gc2V0LCBpdCBvdmVycmlkZXMgdGhlIGRlZmF1bHRcbiAgICogPFJlZnJlc2hDb250cm9sPiBjb21wb25lbnQgYnVpbHQgaW50ZXJuYWxseS4gVGhlIG9uUmVmcmVzaCBhbmQgcmVmcmVzaGluZ1xuICAgKiBwcm9wcyBhcmUgYWxzbyBpZ25vcmVkLiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBWaXJ0dWFsaXplZExpc3QuXG4gICAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0cnVlIHdoaWxlIHdhaXRpbmcgZm9yIG5ldyBkYXRhIGZyb20gYSByZWZyZXNoLlxuICAgKi9cbiAgcmVmcmVzaGluZz86ID9ib29sZWFuLFxuICAvKipcbiAgICogTm90ZTogbWF5IGhhdmUgYnVncyAobWlzc2luZyBjb250ZW50KSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgLSB1c2UgYXQgeW91ciBvd24gcmlzay5cbiAgICpcbiAgICogVGhpcyBtYXkgaW1wcm92ZSBzY3JvbGwgcGVyZm9ybWFuY2UgZm9yIGxhcmdlIGxpc3RzLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogYm9vbGVhbixcbiAgLyoqXG4gICAqIFJlbmRlciBhIGN1c3RvbSBzY3JvbGwgY29tcG9uZW50LCBlLmcuIHdpdGggYSBkaWZmZXJlbnRseSBzdHlsZWQgYFJlZnJlc2hDb250cm9sYC5cbiAgICovXG4gIHJlbmRlclNjcm9sbENvbXBvbmVudD86IChwcm9wczogT2JqZWN0KSA9PiBSZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSBiZXR3ZWVuIGxvdy1wcmkgaXRlbSByZW5kZXIgYmF0Y2hlcywgZS5nLiBmb3IgcmVuZGVyaW5nIGl0ZW1zIHF1aXRlIGEgd2F5cyBvZmZcbiAgICogc2NyZWVuLiBTaW1pbGFyIGZpbGwgcmF0ZS9yZXNwb25zaXZlbmVzcyB0cmFkZW9mZiBhcyBgbWF4VG9SZW5kZXJQZXJCYXRjaGAuXG4gICAqL1xuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiBudW1iZXIsXG4gIHZpZXdhYmlsaXR5Q29uZmlnPzogVmlld2FiaWxpdHlDb25maWcsXG4gIC8qKlxuICAgKiBMaXN0IG9mIFZpZXdhYmlsaXR5Q29uZmlnL29uVmlld2FibGVJdGVtc0NoYW5nZWQgcGFpcnMuIEEgc3BlY2lmaWMgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZFxuICAgKiB3aWxsIGJlIGNhbGxlZCB3aGVuIGl0cyBjb3JyZXNwb25kaW5nIFZpZXdhYmlsaXR5Q29uZmlnJ3MgY29uZGl0aW9ucyBhcmUgbWV0LlxuICAgKi9cbiAgdmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzPzogQXJyYXk8Vmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXI+LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgdmlzaWJsZSBhcmVhLCBpbiB1bml0cyBvZlxuICAgKiB2aXNpYmxlIGxlbmd0aHMuIFNvIGlmIHlvdXIgbGlzdCBmaWxscyB0aGUgc2NyZWVuLCB0aGVuIGB3aW5kb3dTaXplPXsyMX1gICh0aGUgZGVmYXVsdCkgd2lsbFxuICAgKiByZW5kZXIgdGhlIHZpc2libGUgc2NyZWVuIGFyZWEgcGx1cyB1cCB0byAxMCBzY3JlZW5zIGFib3ZlIGFuZCAxMCBiZWxvdyB0aGUgdmlld3BvcnQuIFJlZHVjaW5nXG4gICAqIHRoaXMgbnVtYmVyIHdpbGwgcmVkdWNlIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgbWF5IGltcHJvdmUgcGVyZm9ybWFuY2UsIGJ1dCB3aWxsIGluY3JlYXNlIHRoZVxuICAgKiBjaGFuY2UgdGhhdCBmYXN0IHNjcm9sbGluZyBtYXkgcmV2ZWFsIG1vbWVudGFyeSBibGFuayBhcmVhcyBvZiB1bnJlbmRlcmVkIGNvbnRlbnQuXG4gICAqL1xuICB3aW5kb3dTaXplOiBudW1iZXIsXG59O1xuLyogJEZsb3dGaXhNZSAtIHRoaXMgUHJvcHMgc2VlbXMgdG8gYmUgbWlzc2luZyBhIGJ1bmNoIG9mIHN0dWZmLiBSZW1vdmUgdGhpc1xuICogY29tbWVudCB0byBzZWUgdGhlIGVycm9ycyAqL1xuZXhwb3J0IHR5cGUgUHJvcHMgPSBSZXF1aXJlZFByb3BzICYgT3B0aW9uYWxQcm9wcztcblxudHlwZSBEZWZhdWx0UHJvcHMgPSB7fFxuICBkaXNhYmxlVmlydHVhbGl6YXRpb246IGJvb2xlYW4sXG4gIGhvcml6b250YWw6IGJvb2xlYW4sXG4gIGluaXRpYWxOdW1Ub1JlbmRlcjogbnVtYmVyLFxuICBrZXlFeHRyYWN0b3I6IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gIG1heFRvUmVuZGVyUGVyQmF0Y2g6IG51bWJlcixcbiAgb25FbmRSZWFjaGVkVGhyZXNob2xkOiBudW1iZXIsXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU6IG51bWJlcixcbiAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZDogbnVtYmVyLFxuICB3aW5kb3dTaXplOiBudW1iZXIsXG58fTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBGcmFtZSA9IHtcbiAgb2Zmc2V0OiBudW1iZXIsXG4gIGxlbmd0aDogbnVtYmVyLFxuICBpbmRleDogbnVtYmVyLFxuICBpbkxheW91dDogYm9vbGVhbixcbn07XG5cbnR5cGUgQ2hpbGRMaXN0U3RhdGUgPSB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbiAgZnJhbWVzOiB7W2tleTogbnVtYmVyXTogRnJhbWV9LFxufTtcblxudHlwZSBTdGF0ZSA9IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL2ZsYXRsaXN0Lmh0bWwpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL3NlY3Rpb25saXN0Lmh0bWwpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKlxuICovXG5jbGFzcyBWaXJ0dWFsaXplZExpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBwcm9wczogUHJvcHM7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh2ZXJ5TGFzdCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgZnJhbWUub2Zmc2V0ICtcbiAgICAgICAgZnJhbWUubGVuZ3RoICtcbiAgICAgICAgdGhpcy5fZm9vdGVyTGVuZ3RoIC1cbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICk7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JbmRleCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9JbmRleChwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBpbmRleCwgdmlld09mZnNldCwgdmlld1Bvc2l0aW9ufSA9IHBhcmFtcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gYnV0IG1heGltdW0gaXMgJHtnZXRJdGVtQ291bnQoXG4gICAgICAgIGRhdGEsXG4gICAgICApIC0gMX1gLFxuICAgICk7XG4gICAgaWYgKCFnZXRJdGVtTGF5b3V0ICYmIGluZGV4ID4gdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpbmRleCk7XG4gICAgY29uc3Qgb2Zmc2V0ID1cbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBmcmFtZS5vZmZzZXQgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIGhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICBzY3JvbGxUb0l0ZW0ocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpdGVtOiBJdGVtLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgfSkge1xuICAgIGNvbnN0IHtpdGVtfSA9IHBhcmFtcztcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbSwgZ2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGlmIChnZXRJdGVtKGRhdGEsIGluZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoey4uLnBhcmFtcywgaW5kZXh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgc2Nyb2xsVG9PZmZzZXQocGFyYW1zOiB7YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgb2Zmc2V0OiBudW1iZXJ9KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogYW55IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogYW55IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsUmVmKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxSZWYoKTogYW55IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWY7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wczogRGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVWaXJ0dWFsaXphdGlvbjogZmFsc2UsXG4gICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgaW5pdGlhbE51bVRvUmVuZGVyOiAxMCxcbiAgICBrZXlFeHRyYWN0b3I6IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoaXRlbS5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaXRlbS5rZXk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5pZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgfVxuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhpbmRleCk7XG4gICAgfSxcbiAgICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IDIsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgICBzY3JvbGxFdmVudFRocm90dGxlOiA1MCxcbiAgICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgICB3aW5kb3dTaXplOiAyMSwgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuICB9O1xuXG4gIHN0YXRpYyBjb250ZXh0VHlwZXM6XG4gICAgfCBhbnlcbiAgICB8IHt8XG4gICAgICAgIHZpcnR1YWxpemVkQ2VsbDoge3xcbiAgICAgICAgICBjZWxsS2V5OiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8c3RyaW5nPixcbiAgICAgICAgfH0sXG4gICAgICAgIHZpcnR1YWxpemVkTGlzdDoge3xcbiAgICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICAgIGhvcml6b250YWw6IFJlYWN0JFByb3BUeXBlJFByaW1pdGl2ZTxib29sZWFuPixcbiAgICAgICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFJlYWN0JFByb3BUeXBlJFByaW1pdGl2ZTxGdW5jdGlvbj4sXG4gICAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICB8fSxcbiAgICAgIHx9ID0ge1xuICAgIHZpcnR1YWxpemVkQ2VsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNlbGxLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gICAgdmlydHVhbGl6ZWRMaXN0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZ2V0U2Nyb2xsTWV0cmljczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBob3Jpem9udGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIH0pLFxuICB9O1xuXG4gIHN0YXRpYyBjaGlsZENvbnRleHRUeXBlczpcbiAgICB8IGFueVxuICAgIHwge3xcbiAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgaG9yaXpvbnRhbDogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPGJvb2xlYW4+LFxuICAgICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IFJlYWN0JFByb3BUeXBlJFByaW1pdGl2ZTxGdW5jdGlvbj4sXG4gICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgfH0gPSB7XG4gICAgdmlydHVhbGl6ZWRMaXN0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZ2V0U2Nyb2xsTWV0cmljczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBob3Jpem9udGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIH0pLFxuICB9O1xuXG4gIGdldENoaWxkQ29udGV4dCgpOiB7fFxuICAgIHZpcnR1YWxpemVkTGlzdDoge1xuICAgICAgZ2V0U2Nyb2xsTWV0cmljczogKCkgPT4ge1xuICAgICAgICBjb250ZW50TGVuZ3RoOiBudW1iZXIsXG4gICAgICAgIGRPZmZzZXQ6IG51bWJlcixcbiAgICAgICAgZHQ6IG51bWJlcixcbiAgICAgICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgICAgICB2ZWxvY2l0eTogbnVtYmVyLFxuICAgICAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgICB9LFxuICAgICAgaG9yaXpvbnRhbDogP2Jvb2xlYW4sXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBGdW5jdGlvbixcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IHN0cmluZyA9PiA/Q2hpbGRMaXN0U3RhdGUsXG4gICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6ICh7XG4gICAgICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICAgICAga2V5OiBzdHJpbmcsXG4gICAgICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICAgICAgfSkgPT4gP0NoaWxkTGlzdFN0YXRlLFxuICAgICAgdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQ6ICh7XG4gICAgICAgIGtleTogc3RyaW5nLFxuICAgICAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gICAgICB9KSA9PiB2b2lkLFxuICAgIH0sXG4gIHx9IHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlydHVhbGl6ZWRMaXN0OiB7XG4gICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgIGhvcml6b250YWw6IHRoaXMucHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSxcbiAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIF9nZXRDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRDZWxsICYmIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZENlbGwuY2VsbEtleSkgfHxcbiAgICAgICdyb290TGlzdCdcbiAgICApO1xuICB9XG5cbiAgX2dldFNjcm9sbE1ldHJpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gIH07XG5cbiAgaGFzTW9yZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfVxuXG4gIF9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgX2dldE5lc3RlZENoaWxkU3RhdGUgPSAoa2V5OiBzdHJpbmcpOiA/Q2hpbGRMaXN0U3RhdGUgPT4ge1xuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGREYXRhID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoa2V5KTtcbiAgICByZXR1cm4gZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEuc3RhdGU7XG4gIH07XG5cbiAgX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcmVmOiBWaXJ0dWFsaXplZExpc3QsXG4gIH0pOiA/Q2hpbGRMaXN0U3RhdGUgPT4ge1xuICAgIC8vIFJlZ2lzdGVyIHRoZSBtYXBwaW5nIGJldHdlZW4gdGhpcyBjaGlsZCBrZXkgYW5kIHRoZSBjZWxsS2V5IGZvciBpdHMgY2VsbFxuICAgIGNvbnN0IGNoaWxkTGlzdHNJbkNlbGwgPVxuICAgICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuZ2V0KGNoaWxkTGlzdC5jZWxsS2V5KSB8fCBuZXcgU2V0KCk7XG4gICAgY2hpbGRMaXN0c0luQ2VsbC5hZGQoY2hpbGRMaXN0LmtleSk7XG4gICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuc2V0KGNoaWxkTGlzdC5jZWxsS2V5LCBjaGlsZExpc3RzSW5DZWxsKTtcblxuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGREYXRhID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRMaXN0LmtleSk7XG4gICAgaWYgKGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnJlZiAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0EgVmlydHVhbGl6ZWRMaXN0IGNvbnRhaW5zIGEgY2VsbCB3aGljaCBpdHNlbGYgY29udGFpbnMgJyArXG4gICAgICAgICAgJ21vcmUgdGhhbiBvbmUgVmlydHVhbGl6ZWRMaXN0IG9mIHRoZSBzYW1lIG9yaWVudGF0aW9uIGFzIHRoZSBwYXJlbnQgJyArXG4gICAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LicsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIGNvbnRleHQ6IE9iamVjdCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcy53aW5kb3dTaXplID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiB0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDAsXG4gICAgICBsYXN0OlxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpLFxuICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwKSArIHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyLFxuICAgICAgICApIC0gMSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBjb25zdCBzdG9yZWRTdGF0ZSA9IHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0TmVzdGVkQ2hpbGRTdGF0ZShcbiAgICAgICAgdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICk7XG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5fZnJhbWVzID0gc3RvcmVkU3RhdGUuZnJhbWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBmaXJzdDogdGhpcy5zdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0OiB0aGlzLnN0YXRlLmxhc3QsXG4gICAgICAgICAgZnJhbWVzOiB0aGlzLl9mcmFtZXMsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhudWxsKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpOiBTdGF0ZSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgbWF4VG9SZW5kZXJQZXJCYXRjaH0gPSBuZXdQcm9wcztcbiAgICAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgTWF0aC5taW4ocHJldlN0YXRlLmZpcnN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxIC0gbWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICApLFxuICAgICAgbGFzdDogTWF0aC5tYXgoMCwgTWF0aC5taW4ocHJldlN0YXRlLmxhc3QsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEpKSxcbiAgICB9O1xuICB9XG5cbiAgX3B1c2hDZWxscyhcbiAgICBjZWxsczogQXJyYXk8T2JqZWN0PixcbiAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBBcnJheTxudW1iZXI+LFxuICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHM6IFNldDxudW1iZXI+LFxuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICAgIGludmVyc2lvblN0eWxlOiBWaWV3U3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IGtleUV4dHJhY3RvcihpdGVtLCBpaSk7XG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBmaWxsUmF0ZUhlbHBlcj17dGhpcy5fZmlsbFJhdGVIZWxwZXJ9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uTGF5b3V0PXtlID0+IHRoaXMuX29uQ2VsbExheW91dChlLCBrZXksIGlpKX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcGFyZW50UHJvcHM9e3RoaXMucHJvcHN9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24gfHwgZmFsc2U7XG4gIH1cblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiYgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmbGF0U3R5bGVzID09IG51bGwgfHwgZmxhdFN0eWxlcy5mbGV4V3JhcCAhPT0gJ3dyYXAnLFxuICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyB0aGlzLnByb3BzLmhvcml6b250YWxcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gIWhvcml6b250YWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICBjb25zdCBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICAgICAgPyAtMVxuICAgICAgICA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgMCxcbiAgICAgICAgbGFzdEluaXRpYWxJbmRleCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgZmlyc3RBZnRlckluaXRpYWwgPSBNYXRoLm1heChsYXN0SW5pdGlhbEluZGV4ICsgMSwgZmlyc3QpO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgZmlyc3QgPiBsYXN0SW5pdGlhbEluZGV4ICsgMSkge1xuICAgICAgICBsZXQgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgc3RpY2t5IGhlYWRlcnMgaW4gdGhlIHZpcnR1YWxpemVkIHNwYWNlIHRoYXQgd2UgbmVlZCB0byByZW5kZXIuXG4gICAgICAgICAgZm9yIChsZXQgaWkgPSBmaXJzdEFmdGVySW5pdGlhbCAtIDE7IGlpID4gbGFzdEluaXRpYWxJbmRleDsgaWktLSkge1xuICAgICAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0aWNreUJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgICAgICAgICAgY29uc3QgbGVhZFNwYWNlID1cbiAgICAgICAgICAgICAgICBzdGlja3lCbG9jay5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIGluaXRCbG9jay5vZmZzZXQgLVxuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/IDAgOiBpbml0QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X2xlYWRcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBsZWFkU3BhY2V9fSAvPixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgdHJhaWxTcGFjZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfdHJhaWxcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0cmFpbFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGluc2VydGVkU3RpY2t5U3BhY2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgY29uc3QgZmlyc3RTcGFjZSA9XG4gICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtXG4gICAgICAgICAgICAoaW5pdEJsb2NrLm9mZnNldCArIGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8VmlldyBrZXk9XCIkbGVhZF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBmaXJzdFNwYWNlfX0gLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgZmlyc3RBZnRlckluaXRpYWwsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgbGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpO1xuICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dFxuICAgICAgICAgID8gaXRlbUNvdW50IC0gMVxuICAgICAgICAgIDogTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGVuZCk7XG4gICAgICAgIGNvbnN0IHRhaWxTcGFjZXJMZW5ndGggPVxuICAgICAgICAgIGVuZEZyYW1lLm9mZnNldCArXG4gICAgICAgICAgZW5kRnJhbWUubGVuZ3RoIC1cbiAgICAgICAgICAobGFzdEZyYW1lLm9mZnNldCArIGxhc3RGcmFtZS5sZW5ndGgpO1xuICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIDxWaWV3IGtleT1cIiR0YWlsX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IHRhaWxTcGFjZXJMZW5ndGh9fSAvPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICBrZXk6ICckZW1wdHknLFxuICAgICAgICAgIG9uTGF5b3V0OiBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5zdHlsZSxcbiAgICAgICAgICApLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEZvb3RlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RGb290ZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgPExpc3RGb290ZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRDZWxsV3JhcHBlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJ31cbiAgICAgICAgICBrZXk9XCIkZm9vdGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEZvb3Rlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkQ2VsbFdyYXBwZXI+LFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc2Nyb2xsUHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogdGhpcy5fb25Db250ZW50U2l6ZUNoYW5nZSxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fb25TY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSwgLy8gVE9ETzogQW5kcm9pZCBzdXBwb3J0XG4gICAgICBpbnZlcnRTdGlja3lIZWFkZXJzOlxuICAgICAgICB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzXG4gICAgICAgICAgOiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICB9O1xuICAgIGlmIChpbnZlcnNpb25TdHlsZSkge1xuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNzAuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC43MCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlXG4gICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgc2Nyb2xsUHJvcHMuc3R5bGUgPSBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdO1xuICAgIH1cblxuICAgIHRoaXMuX2hhc01vcmUgPVxuICAgICAgdGhpcy5zdGF0ZS5sYXN0IDwgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG5cbiAgICBjb25zdCBpbm5lclJldCA9IFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICh0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fCB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50KShcbiAgICAgICAgc2Nyb2xsUHJvcHMsXG4gICAgICApLFxuICAgICAge1xuICAgICAgICByZWY6IHRoaXMuX2NhcHR1cmVTY3JvbGxSZWYsXG4gICAgICB9LFxuICAgICAgY2VsbHMsXG4gICAgKTtcbiAgICBsZXQgcmV0ID0gaW5uZXJSZXQ7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldCA9IChcbiAgICAgICAgPFNjcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7c2Nyb2xsQ29udGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNjcm9sbENvbnRleHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAhc2Nyb2xsQ29udGV4dC5ob3Jpem9udGFsID09PSAhdGhpcy5wcm9wcy5ob3Jpem9udGFsICYmXG4gICAgICAgICAgICAgICF0aGlzLl9oYXNXYXJuZWQubmVzdGluZyAmJlxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0ID09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyBUT0RPIChUNDY1NDcwNDQpOiB1c2UgUmVhY3Qud2FybiBvbmNlIDE2LjkgaXMgc3luYydkOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xNTE3MFxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiAtIHVzZSBhbm90aGVyIFZpcnR1YWxpemVkTGlzdC1iYWNrZWQgY29udGFpbmVyIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlubmVyUmV0O1xuICAgICAgICAgIH19XG4gICAgICAgIDwvU2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuZGVidWd9PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkID0gdHJ1ZTtcblxuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgaXMgZ3VhcmFudGVlaW5nIGEgaGlQcmkgY2VsbCB1cGRhdGUgd2lsbCBvbmx5IGhhcHBlblxuICAgIC8vIG9uY2UgcGVyIGZpYmVyIHVwZGF0ZS4gVGhlIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIHNldCBpdCB0byB0cnVlXG4gICAgLy8gaWYgYSBoaVByaSB1cGRhdGUgbmVlZHMgdG8gcGVyZm9ybS4gSWYgYGNvbXBvbmVudERpZFVwZGF0ZWAgaXMgdHJpZ2dlcmVkIHdpdGhcbiAgICAvLyBgdGhpcy5faGlQcmlJblByb2dyZXNzPXRydWVgLCBtZWFucyBpdCdzIHRyaWdnZXJlZCBieSB0aGUgaGlQcmkgdXBkYXRlLiBUaGVcbiAgICAvLyBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBjaGVjayB0aGlzIGNvbmRpdGlvbiBhbmQgbm90IHBlcmZvcm1cbiAgICAvLyBhbm90aGVyIGhpUHJpIHVwZGF0ZS5cbiAgICBjb25zdCBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuICAgIGlmIChoaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIC8vIE1hcHMgYSBjZWxsIGtleSB0byB0aGUgc2V0IG9mIGtleXMgZm9yIGFsbCBvdXRlcm1vc3QgY2hpbGQgbGlzdHMgd2l0aGluIHRoYXQgY2VsbFxuICBfY2VsbEtleXNUb0NoaWxkTGlzdEtleXM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcbiAgX2NlbGxSZWZzID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXMgPSB7fTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIF9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IHRydWU7XG4gIF9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IGZhbHNlO1xuICBfaGFzSW50ZXJhY3RlZCA9IGZhbHNlO1xuICBfaGFzTW9yZSA9IGZhbHNlO1xuICBfaGFzV2FybmVkID0ge307XG4gIF9oZWFkZXJMZW5ndGggPSAwO1xuICBfaGlQcmlJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7IC8vIGZsYWcgdG8gcHJldmVudCBpbmZpbml0ZSBoaVByaSBjZWxsIGxpbWl0IHVwZGF0ZVxuICBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCA9IDA7XG4gIF9pbmRpY2VzVG9LZXlzOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogTWFwPFxuICAgIHN0cmluZyxcbiAgICB7cmVmOiA/VmlydHVhbGl6ZWRMaXN0LCBzdGF0ZTogP0NoaWxkTGlzdFN0YXRlfSxcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0KGUsIGNlbGxLZXksIGluZGV4KSB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9IHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5KTtcbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgIGNoaWxkTGlzdCAmJlxuICAgICAgICAgIGNoaWxkTGlzdC5yZWYgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9XG5cbiAgX29uQ2VsbFVubW91bnQgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcbiAgICBpZiAoY3Vycikge1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gey4uLmN1cnIsIGluTGF5b3V0OiBmYWxzZX07XG4gICAgfVxuICB9O1xuXG4gIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTogdm9pZCB7XG4gICAgLy8gVE9ETyAoVDM1NTc0NTM4KTogZmluZE5vZGVIYW5kbGUgc29tZXRpbWVzIGNyYXNoZXMgd2l0aCBcIlVuYWJsZSB0byBmaW5kXG4gICAgLy8gbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50XCIgZHVyaW5nIHNjcm9sbGluZ1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBhcmUgYXNzdW1pbmcgdGhhdCBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKClcbiAgICAgIC8vIGlzIGEgbm9uLW51bGwgcmVmZXJlbmNlIHRvIGEgU2Nyb2xsVmlld1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3RcbiAgICAgICAgICAuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpXG4gICAgICAgICAgLmdldFNjcm9sbFJlZigpXG4gICAgICAgICAgLmdldE5hdGl2ZVNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC5nZXRTY3JvbGxNZXRyaWNzKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiVmlydHVhbGl6ZWRMaXN0OiBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBtZWFzdXJpbmcgYSBsaXN0J3NcIiArXG4gICAgICAgICAgICAgICcgb2Zmc2V0IGZyb20gaXRzIGNvbnRhaW5pbmcgVmlydHVhbGl6ZWRMaXN0LicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QgdGhyZXcgYW4gZXJyb3InLFxuICAgICAgICBlcnJvci5zdGFjayxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX29uTGF5b3V0ID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoXG4gICAgICAgIGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gZSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9vbkxheW91dEZvb3RlciA9IGUgPT4ge1xuICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX29uTGF5b3V0SGVhZGVyID0gZSA9PiB7XG4gICAgdGhpcy5faGVhZGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfcmVuZGVyRGVidWdPdmVybGF5KCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggL1xuICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dUb3AgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5maXJzdCkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmxhc3QpO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgobWV0cmljczogJFJlYWRPbmx5PHtoZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlcn0+KTogbnVtYmVyIHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IG1ldHJpY3MuaGVpZ2h0IDogbWV0cmljcy53aWR0aDtcbiAgfVxuXG4gIF9zZWxlY3RPZmZzZXQobWV0cmljczogJFJlYWRPbmx5PHt4OiBudW1iZXIsIHk6IG51bWJlcn0+KTogbnVtYmVyIHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IG1ldHJpY3MueSA6IG1ldHJpY3MueDtcbiAgfVxuXG4gIF9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIG9uRW5kUmVhY2hlZCxcbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7Y29udGVudExlbmd0aCwgdmlzaWJsZUxlbmd0aCwgb2Zmc2V0fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG4gICAgaWYgKFxuICAgICAgb25FbmRSZWFjaGVkICYmXG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggJiZcbiAgICAgICh0aGlzLl9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCB8fFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoKVxuICAgICkge1xuICAgICAgLy8gT25seSBjYWxsIG9uRW5kUmVhY2hlZCBvbmNlIGZvciBhIGdpdmVuIGRhdGFzZXQgKyBjb250ZW50IGxlbmd0aC5cbiAgICAgIHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICAgIG9uRW5kUmVhY2hlZCh7ZGlzdGFuY2VGcm9tRW5kfSk7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBpZiAoXG4gICAgICB3aWR0aCA+IDAgJiZcbiAgICAgIGhlaWdodCA+IDAgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMCAmJlxuICAgICAgIXRoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsXG4gICAgKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgIGluZGV4OiB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGwgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7aGVpZ2h0LCB3aWR0aH0pO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gIH0pID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9zZWxlY3RPZmZzZXQoZS5uYXRpdmVFdmVudC5jb250ZW50T2Zmc2V0KTtcbiAgICBsZXQgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIElnbm9yZSBzY3JvbGwgZXZlbnRzIHVudGlsIG9uTGF5b3V0IGhhcyBiZWVuIGNhbGxlZCBhbmQgd2VcbiAgICAgICAgLy8ga25vdyBvdXIgb2Zmc2V0IGZyb20gb3VyIG9mZnNldCBmcm9tIG91ciBwYXJlbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgY29udGVudExlbmd0aCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBkT2Zmc2V0LFxuICAgICAgfSA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGR0ID0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXBcbiAgICAgID8gTWF0aC5tYXgoMSwgdGltZXN0YW1wIC0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApXG4gICAgICA6IDE7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkT2Zmc2V0IC8gZHQ7XG5cbiAgICBpZiAoXG4gICAgICBkdCA+IDUwMCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCA+IDUwMCAmJlxuICAgICAgY29udGVudExlbmd0aCA+IDUgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLnBlcmZcbiAgICApIHtcbiAgICAgIGluZm9Mb2coXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFlvdSBoYXZlIGEgbGFyZ2UgbGlzdCB0aGF0IGlzIHNsb3cgdG8gdXBkYXRlIC0gbWFrZSBzdXJlIHlvdXIgJyArXG4gICAgICAgICAgJ3JlbmRlckl0ZW0gZnVuY3Rpb24gcmVuZGVycyBjb21wb25lbnRzIHRoYXQgZm9sbG93IFJlYWN0IHBlcmZvcm1hbmNlIGJlc3QgcHJhY3RpY2VzICcgK1xuICAgICAgICAgICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsXG4gICAgICAgIHtkdCwgcHJldkR0OiB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0LCBjb250ZW50TGVuZ3RofSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQucGVyZiA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgZHQsXG4gICAgICBkT2Zmc2V0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgIH07XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgICBpZiAodmVsb2NpdHkgIT09IDApIHtcbiAgICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmFjdGl2YXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfTtcblxuICBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCkge1xuICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBzY3JvbGxpbmdUaHJlc2hvbGQgPVxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlXG4gICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgKHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYmVmb3JlIHRoZSBmaXJzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9IG9mZnNldCAtIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCAodmVsb2NpdHkgPCAtMiAmJiBkaXN0VG9wIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBlbmQgb2YgdGhlIGxhc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBhZnRlciB0aGUgbGFzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpLm9mZnNldCAtIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHxcbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgb25FbmRSZWFjaGVkVGhyZXNob2xkfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gdGhpcy5faXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XG4gICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCkge1xuICAgICAgICAvLyBJZiB3ZSBydW4gdGhpcyB3aXRoIGJvZ3VzIGRhdGEsIHdlJ2xsIGZvcmNlLXJlbmRlciB3aW5kb3cge2ZpcnN0OiAwLCBsYXN0OiAwfSxcbiAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4IGFuZCBydW4gdGhpcyBiZWZvcmUgd2UndmUgc2Nyb2xsZWQsXG4gICAgICAgICAgLy8gd2UnbGwgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cyBzdGFydGluZyBhdCBpbml0aWFsU2Nyb2xsSW5kZXguXG4gICAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB3ZSd2ZSBzY3JvbGxlZCB0aGUgdmlldyB0byB0aGUgcmlnaHQgcGxhY2UuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxTY3JvbGxJbmRleCBzdWdnZXN0aW9uLlxuICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlID0gY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94LFxuICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCBvZmZzZXQsIHZpc2libGVMZW5ndGh9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgICBsYXN0OiBNYXRoLm1pbihzdGF0ZS5sYXN0ICsgcmVuZGVyQWhlYWQsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG5ld1N0YXRlICYmIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc3QgbmV3Rmlyc3QgPSBuZXdTdGF0ZS5maXJzdDtcbiAgICAgICAgY29uc3QgbmV3TGFzdCA9IG5ld1N0YXRlLmxhc3Q7XG4gICAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgICAvLyB1cCB0aHJvdWdoIHRoYXQgaXRlbSwgc28gdGhhdCB3ZSBnaXZlIHRoYXQgbGlzdCBhIGNoYW5jZSB0byByZW5kZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSdzIGNodXJuIGZyb20gbXVsdGlwbGUgY2hpbGQgbGlzdHMgbW91bnRpbmcgYW5kIHVuLW1vdW50aW5nXG4gICAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuICAgICAgICBmb3IgKGxldCBpaSA9IG5ld0ZpcnN0OyBpaSA8PSBuZXdMYXN0OyBpaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2VsbEtleUZvckluZGV4ID0gdGhpcy5faW5kaWNlc1RvS2V5cy5nZXQoaWkpO1xuICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdEtleXMgPVxuICAgICAgICAgICAgY2VsbEtleUZvckluZGV4ICYmXG4gICAgICAgICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleUZvckluZGV4KTtcbiAgICAgICAgICBpZiAoIWNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgc29tZUNoaWxkSGFzTW9yZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIEZvciBlYWNoIGNlbGwsIG5lZWQgdG8gY2hlY2sgd2hldGhlciBhbnkgY2hpbGQgbGlzdCBpbiBpdCBoYXMgbW9yZSBlbGVtZW50cyB0byByZW5kZXJcbiAgICAgICAgICBmb3IgKGxldCBjaGlsZEtleSBvZiBjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0ICYmIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5oYXNNb3JlKCkpIHtcbiAgICAgICAgICAgICAgc29tZUNoaWxkSGFzTW9yZSA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc29tZUNoaWxkSGFzTW9yZSkge1xuICAgICAgICAgICAgbmV3U3RhdGUubGFzdCA9IGlpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChpbmRleDogbnVtYmVyLCBpc1ZpZXdhYmxlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGtleUV4dHJhY3Rvcn0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge2luZGV4LCBpdGVtLCBrZXk6IGtleUV4dHJhY3RvcihpdGVtLCBpbmRleCksIGlzVmlld2FibGV9O1xuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3NBcHByb3ggPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKToge2xlbmd0aDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn0gPT4ge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzKGluZGV4KTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAvLyBjaGVjayBmb3IgaW52YWxpZCBmcmFtZXMgZHVlIHRvIHJvdyByZS1vcmRlcmluZ1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7Z2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhZ2V0SXRlbUxheW91dCxcbiAgICAgICAgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIG9mZnNldDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggKiBpbmRleCxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3MgPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogP3tcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGluTGF5b3V0PzogYm9vbGVhbixcbiAgfSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+IGluZGV4LFxuICAgICAgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCxcbiAgICApO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICBsZXQgZnJhbWUgPSBpdGVtICYmIHRoaXMuX2ZyYW1lc1trZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaWYgKGdldEl0ZW1MYXlvdXQpIHtcbiAgICAgICAgZnJhbWUgPSBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICBjb25zdCBmcmFtZVR5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgbGVuZ3RoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvZmZzZXQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgfSkuaXNSZXF1aXJlZDtcbiAgICAgICAgICBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoXG4gICAgICAgICAgICB7ZnJhbWU6IGZyYW1lVHlwZX0sXG4gICAgICAgICAgICB7ZnJhbWV9LFxuICAgICAgICAgICAgJ2ZyYW1lJyxcbiAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QuZ2V0SXRlbUxheW91dCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICByZXR1cm4gZnJhbWU7XG4gIH07XG5cbiAgX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YTogYW55KSB7XG4gICAgY29uc3Qge2dldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuXG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5vblVwZGF0ZShcbiAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxudHlwZSBDZWxsUmVuZGVyZXJQcm9wcyA9IHtcbiAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgSXRlbVNlcGFyYXRvckNvbXBvbmVudDogP1JlYWN0LkNvbXBvbmVudFR5cGU8Kj4sXG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyLFxuICBob3Jpem9udGFsOiA/Ym9vbGVhbixcbiAgaW5kZXg6IG51bWJlcixcbiAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gIGl0ZW06IEl0ZW0sXG4gIG9uTGF5b3V0OiAoZXZlbnQ6IE9iamVjdCkgPT4gdm9pZCwgLy8gVGhpcyBpcyBleHRyYWN0ZWQgYnkgU2Nyb2xsVmlld1N0aWNreUhlYWRlclxuICBvblVubW91bnQ6IChjZWxsS2V5OiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uVXBkYXRlU2VwYXJhdG9yczogKGNlbGxLZXlzOiBBcnJheTw/c3RyaW5nPiwgcHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgcGFyZW50UHJvcHM6IHtcbiAgICBnZXRJdGVtTGF5b3V0PzogP0Z1bmN0aW9uLFxuICAgIHJlbmRlckl0ZW0/OiA/UmVuZGVySXRlbVR5cGU8SXRlbT4sXG4gICAgTGlzdEl0ZW1Db21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIH0sXG4gIHByZXZDZWxsS2V5OiA/c3RyaW5nLFxufTtcblxudHlwZSBDZWxsUmVuZGVyZXJTdGF0ZSA9IHtcbiAgc2VwYXJhdG9yUHJvcHM6ICRSZWFkT25seTx7fFxuICAgIGhpZ2hsaWdodGVkOiBib29sZWFuLFxuICAgIGxlYWRpbmdJdGVtOiA/SXRlbSxcbiAgfH0+LFxufTtcblxuY2xhc3MgQ2VsbFJlbmRlcmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICBDZWxsUmVuZGVyZXJQcm9wcyxcbiAgQ2VsbFJlbmRlcmVyU3RhdGUsXG4+IHtcbiAgc3RhdGUgPSB7XG4gICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIGxlYWRpbmdJdGVtOiB0aGlzLnByb3BzLml0ZW0sXG4gICAgfSxcbiAgfTtcblxuICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgfTtcblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgIHByb3BzOiBDZWxsUmVuZGVyZXJQcm9wcyxcbiAgICBwcmV2U3RhdGU6IENlbGxSZW5kZXJlclN0YXRlLFxuICApOiA/Q2VsbFJlbmRlcmVyU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBzZXBhcmF0b3JQcm9wczoge1xuICAgICAgICAuLi5wcmV2U3RhdGUuc2VwYXJhdG9yUHJvcHMsXG4gICAgICAgIGxlYWRpbmdJdGVtOiBwcm9wcy5pdGVtLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2aXJ0dWFsaXplZENlbGw6IHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETzogY29uc2lkZXIgZmFjdG9yaW5nIHNlcGFyYXRvciBzdHVmZiBvdXQgb2YgVmlydHVhbGl6ZWRMaXN0IGludG8gRmxhdExpc3Qgc2luY2UgaXQncyBub3RcbiAgLy8gcmV1c2VkIGJ5IFNlY3Rpb25MaXN0IGFuZCB3ZSBjYW4ga2VlcCBWaXJ0dWFsaXplZExpc3Qgc2ltcGxlci5cbiAgX3NlcGFyYXRvcnMgPSB7XG4gICAgaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVuaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVQcm9wczogKHNlbGVjdDogJ2xlYWRpbmcnIHwgJ3RyYWlsaW5nJywgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhcbiAgICAgICAgW3NlbGVjdCA9PT0gJ2xlYWRpbmcnID8gcHJldkNlbGxLZXkgOiBjZWxsS2V5XSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICApO1xuICAgIH0sXG4gIH07XG5cbiAgdXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHM6IE9iamVjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHtcbiAgICAgIHNlcGFyYXRvclByb3BzOiB7Li4uc3RhdGUuc2VwYXJhdG9yUHJvcHMsIC4uLm5ld1Byb3BzfSxcbiAgICB9KSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnByb3BzLmNlbGxLZXkpO1xuICB9XG5cbiAgX3JlbmRlckVsZW1lbnQocmVuZGVySXRlbSwgTGlzdEl0ZW1Db21wb25lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKHJlbmRlckl0ZW0gJiYgTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogQm90aCBMaXN0SXRlbUNvbXBvbmVudCBhbmQgcmVuZGVySXRlbSBwcm9wcyBhcmUgcHJlc2VudC4gTGlzdEl0ZW1Db21wb25lbnQgd2lsbCB0YWtlJyArXG4gICAgICAgICAgJyBwcmVjZWRlbmNlIG92ZXIgcmVuZGVySXRlbS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtQ29tcG9uZW50LCB7XG4gICAgICAgIGl0ZW0sXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzZXBhcmF0b3JzOiB0aGlzLl9zZXBhcmF0b3JzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlckl0ZW0pIHtcbiAgICAgIHJldHVybiByZW5kZXJJdGVtKHtcbiAgICAgICAgaXRlbSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IEVpdGhlciBMaXN0SXRlbUNvbXBvbmVudCBvciByZW5kZXJJdGVtIHByb3BzIGFyZSByZXF1aXJlZCBidXQgbm9uZSB3ZXJlIGZvdW5kLicsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZmlsbFJhdGVIZWxwZXIsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICBwYXJlbnRQcm9wcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7cmVuZGVySXRlbSwgZ2V0SXRlbUxheW91dCwgTGlzdEl0ZW1Db21wb25lbnR9ID0gcGFyZW50UHJvcHM7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlckVsZW1lbnQoXG4gICAgICByZW5kZXJJdGVtLFxuICAgICAgTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgICBpdGVtLFxuICAgICAgaW5kZXgsXG4gICAgKTtcblxuICAgIGNvbnN0IG9uTGF5b3V0ID1cbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGdldEl0ZW1MYXlvdXQgJiYgIXBhcmVudFByb3BzLmRlYnVnICYmICFmaWxsUmF0ZUhlbHBlci5lbmFibGVkKClcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiB0aGlzLnByb3BzLm9uTGF5b3V0O1xuICAgIC8vIE5PVEU6IHRoYXQgd2hlbiB0aGlzIGlzIGEgc3RpY2t5IGhlYWRlciwgYG9uTGF5b3V0YCB3aWxsIGdldCBhdXRvbWF0aWNhbGx5IGV4dHJhY3RlZCBhbmRcbiAgICAvLyBjYWxsZWQgZXhwbGljaXRseSBieSBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAgY29uc3QgaXRlbVNlcGFyYXRvciA9IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgJiYgKFxuICAgICAgPEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgey4uLnRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHN9IC8+XG4gICAgKTtcbiAgICBjb25zdCBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZVxuICAgICAgPyBob3Jpem9udGFsXG4gICAgICAgID8gW3N0eWxlcy5yb3dSZXZlcnNlLCBpbnZlcnNpb25TdHlsZV1cbiAgICAgICAgOiBbc3R5bGVzLmNvbHVtblJldmVyc2UsIGludmVyc2lvblN0eWxlXVxuICAgICAgOiBob3Jpem9udGFsXG4gICAgICA/IFtzdHlsZXMucm93LCBpbnZlcnNpb25TdHlsZV1cbiAgICAgIDogaW52ZXJzaW9uU3R5bGU7XG4gICAgaWYgKCFDZWxsUmVuZGVyZXJDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZVxuICAgICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICA8VmlldyBzdHlsZT17Y2VsbFN0eWxlfSBvbkxheW91dD17b25MYXlvdXR9PlxuICAgICAgICAgIHtlbGVtZW50fVxuICAgICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPENlbGxSZW5kZXJlckNvbXBvbmVudFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e2NlbGxTdHlsZX1cbiAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAge2VsZW1lbnR9XG4gICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgPC9DZWxsUmVuZGVyZXJDb21wb25lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBWaXJ0dWFsaXplZENlbGxXcmFwcGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PHtcbiAgY2VsbEtleTogc3RyaW5nLFxuICBjaGlsZHJlbjogUmVhY3QuTm9kZSxcbn0+IHtcbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkQ2VsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNlbGxLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH07XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2aXJ0dWFsaXplZENlbGw6IHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgdmVydGljYWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XSxcbiAgfSxcbiAgaG9yaXpvbnRhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVYOiAtMX1dLFxuICB9LFxuICByb3c6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgfSxcbiAgcm93UmV2ZXJzZToge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3ctcmV2ZXJzZScsXG4gIH0sXG4gIGNvbHVtblJldmVyc2U6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uLXJldmVyc2UnLFxuICB9LFxuICBkZWJ1Zzoge1xuICAgIGZsZXg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUJhc2U6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheToge1xuICAgIGJvdHRvbTogMCxcbiAgICB3aWR0aDogMjAsXG4gICAgYm9yZGVyQ29sb3I6ICdibHVlJyxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWU6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZScsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lTGFzdDoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdncmVlbicsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lVmlzOiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ3JlZCcsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaXJ0dWFsaXplZExpc3Q7XG4iXSwibWFwcGluZ3MiOiJBQVNBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBRSxTQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBRyxnQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUksYUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUssdUJBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFNLFVBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFPLDJCQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUSxnQkFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsU0FBQVMsZ0NBQUFDLENBQUEsRUFBQUMsY0FBQSxRQUFBQyxFQUFBLFVBQUFDLE1BQUEsb0JBQUFILENBQUEsQ0FBQUcsTUFBQSxDQUFBQyxRQUFBLEtBQUFKLENBQUEsb0JBQUFFLEVBQUEsVUFBQUEsRUFBQSxHQUFBQSxFQUFBLENBQUFHLElBQUEsQ0FBQUwsQ0FBQSxHQUFBTSxJQUFBLENBQUFDLElBQUEsQ0FBQUwsRUFBQSxPQUFBTSxLQUFBLENBQUFDLE9BQUEsQ0FBQVQsQ0FBQSxNQUFBRSxFQUFBLEdBQUFRLDJCQUFBLENBQUFWLENBQUEsTUFBQUMsY0FBQSxJQUFBRCxDQUFBLFdBQUFBLENBQUEsQ0FBQVcsTUFBQSxxQkFBQVQsRUFBQSxFQUFBRixDQUFBLEdBQUFFLEVBQUEsTUFBQVUsQ0FBQSwrQkFBQUEsQ0FBQSxJQUFBWixDQUFBLENBQUFXLE1BQUEsV0FBQUUsSUFBQSxtQkFBQUEsSUFBQSxTQUFBQyxLQUFBLEVBQUFkLENBQUEsQ0FBQVksQ0FBQSxzQkFB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