{"version":3,"names":["_lodash","_interopRequireDefault","require","_react","_interopRequireWildcard","_propTypes","_reactNative","_Star","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","valueOf","e","TapRating","_Component","_inherits2","_super","_this","_classCallCheck2","state","position","_createClass2","value","componentDidMount","defaultRating","props","setState","renderStars","rating_array","_","map","star","index","starSelectedInPosition","onFinishRating","render","_this2","_this$props","count","reviews","showRating","reviewColor","reviewSize","starContainerStyle","styles","starContainer","push","times","createElement","_extends2","bind","fill","View","style","ratingContainer","Text","reviewText","fontSize","color","getDerivedStateFromProps","nextProps","prevState","Component","exports","defaultProps","console","log","StyleSheet","create","backgroundColor","flexDirection","alignItems","justifyContent","fontWeight","margin"],"sources":["TapRating.js"],"sourcesContent":["import _ from 'lodash';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { StyleSheet, Text, View } from 'react-native';\n\nimport Star from './components/Star'\n\nexport default class TapRating extends Component {\n  static defaultProps = {\n    defaultRating: 3,\n    reviews: [\"Terrible\", \"Bad\", \"Okay\", \"Good\", \"Great\"],\n    count: 5,\n    onFinishRating: () => console.log('Rating selected. Attach a function here.'),\n    showRating: true,\n    reviewColor: 'rgba(230, 196, 46, 1)',\n    reviewSize: 25\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { defaultRating } = nextProps;\n\n    if (defaultRating !== prevState.defaultRating) {\n      return {\n        position: defaultRating,\n        defaultRating\n      }\n    }\n    return null;\n  }\n\n  constructor() {\n    super()\n\n    this.state = {\n      position: 5\n    }\n  }\n\n  componentDidMount() {\n    const { defaultRating } = this.props\n\n    this.setState({ position: defaultRating })\n  }\n\n  renderStars(rating_array) {\n    return _.map(rating_array, (star, index) => {\n      return star\n    })\n  }\n\n  starSelectedInPosition(position) {\n    const { onFinishRating } = this.props\n\n    onFinishRating(position);\n\n    this.setState({ position: position })\n  }\n\n  render() {\n    const { position } = this.state\n    const { count, reviews, showRating, reviewColor, reviewSize } = this.props\n    const rating_array = []\n    const starContainerStyle = [styles.starContainer]\n\n    if (this.props.starContainerStyle) {\n        starContainerStyle.push(this.props.starContainerStyle);\n    }\n\n    _.times(count, index => {\n      rating_array.push(\n        <Star\n          key={index}\n          position={index + 1}\n          starSelectedInPosition={this.starSelectedInPosition.bind(this)}\n          fill={position >= index + 1}\n          {...this.props}\n        />\n      )\n    })\n\n    return (\n      <View style={styles.ratingContainer}>\n        { showRating &&\n          <Text style={[styles.reviewText, {fontSize: reviewSize, color: reviewColor}]}>\n            {reviews[position - 1]}\n          </Text>\n        }\n        <View style={starContainerStyle}>\n          {this.renderStars(rating_array)}\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  ratingContainer: {\n    backgroundColor: 'transparent',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  reviewText: {\n    fontWeight: 'bold',\n    margin: 10,\n  },\n  starContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  }\n});\n"],"mappings":"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"}