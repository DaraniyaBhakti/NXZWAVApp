{"version":3,"names":["_interopRequireDefault","require","_extends3","_objectWithoutProperties2","_excluded","_extends","React","reactNative","_interopDefaultLegacy","e","_extends__default","React__default","resizeMode","contain","cover","stretch","center","priority","low","normal","high","cacheControl","immutable","web","cacheOnly","resolveDefaultSource","defaultSource","Platform","OS","resolved","Image","resolveAssetSource","uri","FastImageBase","_ref","source","tintColor","onLoadStart","onProgress","onLoad","onError","onLoadEnd","style","fallback","children","_ref$resizeMode","forwardedRef","props","default","cleanedSource","cache","resolvedSource","createElement","View","styles","imageContainer","ref","StyleSheet","absoluteFill","resolvedDefaultSource","FastImageView","onFastImageLoadStart","onFastImageProgress","onFastImageLoad","onFastImageError","onFastImageLoadEnd","FastImageMemo","memo","FastImageComponent","forwardRef","displayName","FastImage","preload","sources","NativeModules","clearMemoryCache","clearDiskCache","create","overflow","requireNativeComponent","nativeOnly","module","exports"],"sources":["index.cjs.js"],"sourcesContent":["'use strict';\n\nvar _extends = require('@babel/runtime/helpers/extends');\nvar React = require('react');\nvar reactNative = require('react-native');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar _extends__default = /*#__PURE__*/_interopDefaultLegacy(_extends);\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nconst resizeMode = {\n  contain: 'contain',\n  cover: 'cover',\n  stretch: 'stretch',\n  center: 'center'\n};\nconst priority = {\n  low: 'low',\n  normal: 'normal',\n  high: 'high'\n};\nconst cacheControl = {\n  // Ignore headers, use uri as cache key, fetch only if not in cache.\n  immutable: 'immutable',\n  // Respect http headers, no aggressive caching.\n  web: 'web',\n  // Only load from cache.\n  cacheOnly: 'cacheOnly'\n};\n\nconst resolveDefaultSource = defaultSource => {\n  if (!defaultSource) {\n    return null;\n  }\n\n  if (reactNative.Platform.OS === 'android') {\n    // Android receives a URI string, and resolves into a Drawable using RN's methods.\n    const resolved = reactNative.Image.resolveAssetSource(defaultSource);\n\n    if (resolved) {\n      return resolved.uri;\n    }\n\n    return null;\n  } // iOS or other number mapped assets\n  // In iOS the number is passed, and bridged automatically into a UIImage\n\n\n  return defaultSource;\n};\n\nfunction FastImageBase({\n  source,\n  defaultSource,\n  tintColor,\n  onLoadStart,\n  onProgress,\n  onLoad,\n  onError,\n  onLoadEnd,\n  style,\n  fallback,\n  children,\n  // eslint-disable-next-line no-shadow\n  resizeMode = 'cover',\n  forwardedRef,\n  ...props\n}) {\n  if (fallback) {\n    const cleanedSource = { ...source\n    };\n    delete cleanedSource.cache;\n    const resolvedSource = reactNative.Image.resolveAssetSource(cleanedSource);\n    return /*#__PURE__*/React__default['default'].createElement(reactNative.View, {\n      style: [styles.imageContainer, style],\n      ref: forwardedRef\n    }, /*#__PURE__*/React__default['default'].createElement(reactNative.Image, _extends__default['default']({}, props, {\n      style: [reactNative.StyleSheet.absoluteFill, {\n        tintColor\n      }],\n      source: resolvedSource,\n      defaultSource: defaultSource,\n      onLoadStart: onLoadStart,\n      onProgress: onProgress,\n      onLoad: onLoad,\n      onError: onError,\n      onLoadEnd: onLoadEnd,\n      resizeMode: resizeMode\n    })), children);\n  }\n\n  const resolvedSource = reactNative.Image.resolveAssetSource(source);\n  const resolvedDefaultSource = resolveDefaultSource(defaultSource);\n  return /*#__PURE__*/React__default['default'].createElement(reactNative.View, {\n    style: [styles.imageContainer, style],\n    ref: forwardedRef\n  }, /*#__PURE__*/React__default['default'].createElement(FastImageView, _extends__default['default']({}, props, {\n    tintColor: tintColor,\n    style: reactNative.StyleSheet.absoluteFill,\n    source: resolvedSource,\n    defaultSource: resolvedDefaultSource,\n    onFastImageLoadStart: onLoadStart,\n    onFastImageProgress: onProgress,\n    onFastImageLoad: onLoad,\n    onFastImageError: onError,\n    onFastImageLoadEnd: onLoadEnd,\n    resizeMode: resizeMode\n  })), children);\n}\n\nconst FastImageMemo = /*#__PURE__*/React.memo(FastImageBase);\nconst FastImageComponent = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React__default['default'].createElement(FastImageMemo, _extends__default['default']({\n  forwardedRef: ref\n}, props)));\nFastImageComponent.displayName = 'FastImage';\nconst FastImage = FastImageComponent;\nFastImage.resizeMode = resizeMode;\nFastImage.cacheControl = cacheControl;\nFastImage.priority = priority;\n\nFastImage.preload = sources => reactNative.NativeModules.FastImageView.preload(sources);\n\nFastImage.clearMemoryCache = () => reactNative.NativeModules.FastImageView.clearMemoryCache();\n\nFastImage.clearDiskCache = () => reactNative.NativeModules.FastImageView.clearDiskCache();\n\nconst styles = reactNative.StyleSheet.create({\n  imageContainer: {\n    overflow: 'hidden'\n  }\n}); // Types of requireNativeComponent are not correct.\n\nconst FastImageView = reactNative.requireNativeComponent('FastImageView', FastImage, {\n  nativeOnly: {\n    onFastImageLoadStart: true,\n    onFastImageProgress: true,\n    onFastImageLoad: true,\n    onFastImageError: true,\n    onFastImageLoadEnd: true\n  }\n});\n\nmodule.exports = FastImage;\n"],"mappings":"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"}