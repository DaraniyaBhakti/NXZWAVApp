{"version":3,"names":["Channel_1","require","RunEngine","constructor","debugLog","tag","data","console","log","undefined","JSON","stringify","channels","Map","addChannel","bind","attachBuildingBlock","sendMessage","unSubscribeFromMessages","topic","set","Channel","block","subscribedMessages","forEach","channel","get","unsub","has","sub","from","message","id","subscribers","receive","runEngine","exports"],"sources":["/Users/macm14/Documents/NXZWAW/nxzwav-294793-react-native/src/packages/framework/src/RunEngine.tsx"],"sourcesContent":["// Do not change anything in the protected area. Doing so will be detected and your commit will be rejected.\n\n// Protected Area Start\n\nimport { Channel } from './Channel';\nimport { IBlock } from './IBlock';\nimport { Message } from './Message';\n\nclass RunEngine {\n  channels: Map<string, Channel>;\n\n  debugLog = (tag: any, data: any = null) => {\n    console.log('=====================Debug Log Start======================');\n    if (data !== undefined) {\n      console.log(tag + '====>' + JSON.stringify(data));\n    }\n    console.log('=====================Debug Log End======================');\n    console.log('        ');\n  };\n\n  constructor() {\n    this.channels = new Map<string, Channel>();\n    this.addChannel = this.addChannel.bind(this);\n    this.attachBuildingBlock = this.attachBuildingBlock.bind(this);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.unSubscribeFromMessages = this.unSubscribeFromMessages.bind(this);\n  }\n\n  addChannel(topic: string): void {\n    this.channels.set(topic, new Channel(topic));\n  }\n\n  unSubscribeFromMessages(block: IBlock, subscribedMessages: string[]): void {\n    if (subscribedMessages) {\n      subscribedMessages.forEach(topic => {\n        const channel = this.channels.get(topic);\n        if (channel) {\n          channel.unsub(block);\n        }\n      });\n    }\n  }\n\n  attachBuildingBlock(block: IBlock, subscribedMessages: string[]): void {\n    subscribedMessages.forEach(topic => {\n      if (!this.channels.has(topic)) {\n        this.addChannel(topic);\n      }\n\n      const channel = this.channels.get(topic);\n      if (channel) {\n        channel.sub(block);\n      }\n    });\n  }\n\n  sendMessage(from: string, message: Message): void {\n    if ( message && message.id ) {\n      const channel = this.channels.get(message.id);\n      if (channel) {\n        channel.subscribers.forEach(block => block.receive(from, message));\n      }\n    }\n  }\n}\n\nconst runEngine = new RunEngine();\nexport { runEngine };\n\n// Protected Area End\n"],"mappings":";;AAAA;;;;;AAEA;AAEA,MAAAA,SAAA,GAAAC,OAAA;AAIA,MAAMC,SAAS;EAYbC,YAAA;IATA,KAAAC,QAAQ,GAAG,CAACC,GAAQ,EAAEC,IAAA,GAAY,IAAI,KAAI;MACxCC,OAAO,CAACC,GAAG,CAAC,4DAA4D,CAAC;MACzE,IAAIF,IAAI,KAAKG,SAAS,EAAE;QACtBF,OAAO,CAACC,GAAG,CAACH,GAAG,GAAG,OAAO,GAAGK,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;;MAEnDC,OAAO,CAACC,GAAG,CAAC,0DAA0D,CAAC;MACvED,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACzB,CAAC;IAGC,IAAI,CAACI,QAAQ,GAAG,IAAIC,GAAG,EAAmB;IAC1C,IAAI,CAACC,UAAU,GAAG,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC;IAC5C,IAAI,CAACC,mBAAmB,GAAG,IAAI,CAACA,mBAAmB,CAACD,IAAI,CAAC,IAAI,CAAC;IAC9D,IAAI,CAACE,WAAW,GAAG,IAAI,CAACA,WAAW,CAACF,IAAI,CAAC,IAAI,CAAC;IAC9C,IAAI,CAACG,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACH,IAAI,CAAC,IAAI,CAAC;EACxE;EAEAD,UAAUA,CAACK,KAAa;IACtB,IAAI,CAACP,QAAQ,CAACQ,GAAG,CAACD,KAAK,EAAE,IAAInB,SAAA,CAAAqB,OAAO,CAACF,KAAK,CAAC,CAAC;EAC9C;EAEAD,uBAAuBA,CAACI,KAAa,EAAEC,kBAA4B;IACjE,IAAIA,kBAAkB,EAAE;MACtBA,kBAAkB,CAACC,OAAO,CAACL,KAAK,IAAG;QACjC,MAAMM,OAAO,GAAG,IAAI,CAACb,QAAQ,CAACc,GAAG,CAACP,KAAK,CAAC;QACxC,IAAIM,OAAO,EAAE;UACXA,OAAO,CAACE,KAAK,CAACL,KAAK,CAAC;;MAExB,CAAC,CAAC;;EAEN;EAEAN,mBAAmBA,CAACM,KAAa,EAAEC,kBAA4B;IAC7DA,kBAAkB,CAACC,OAAO,CAACL,KAAK,IAAG;MACjC,IAAI,CAAC,IAAI,CAACP,QAAQ,CAACgB,GAAG,CAACT,KAAK,CAAC,EAAE;QAC7B,IAAI,CAACL,UAAU,CAACK,KAAK,CAAC;;MAGxB,MAAMM,OAAO,GAAG,IAAI,CAACb,QAAQ,CAACc,GAAG,CAACP,KAAK,CAAC;MACxC,IAAIM,OAAO,EAAE;QACXA,OAAO,CAACI,GAAG,CAACP,KAAK,CAAC;;IAEtB,CAAC,CAAC;EACJ;EAEAL,WAAWA,CAACa,IAAY,EAAEC,OAAgB;IACxC,IAAKA,OAAO,IAAIA,OAAO,CAACC,EAAE,EAAG;MAC3B,MAAMP,OAAO,GAAG,IAAI,CAACb,QAAQ,CAACc,GAAG,CAACK,OAAO,CAACC,EAAE,CAAC;MAC7C,IAAIP,OAAO,EAAE;QACXA,OAAO,CAACQ,WAAW,CAACT,OAAO,CAACF,KAAK,IAAIA,KAAK,CAACY,OAAO,CAACJ,IAAI,EAAEC,OAAO,CAAC,CAAC;;;EAGxE;;AAGF,MAAMI,SAAS,GAAG,IAAIjC,SAAS,EAAE;AACxBkC,OAAA,CAAAD,SAAA,GAAAA,SAAA;AAET"}