a9207e45a8195c2580357338d084853a
'use strict';

function stiffnessFromOrigamiValue(oValue) {
  return (oValue - 30) * 3.62 + 194;
}
function dampingFromOrigamiValue(oValue) {
  return (oValue - 8) * 3 + 25;
}
function fromOrigamiTensionAndFriction(tension, friction) {
  return {
    stiffness: stiffnessFromOrigamiValue(tension),
    damping: dampingFromOrigamiValue(friction)
  };
}
function fromBouncinessAndSpeed(bounciness, speed) {
  function normalize(value, startValue, endValue) {
    return (value - startValue) / (endValue - startValue);
  }
  function projectNormal(n, start, end) {
    return start + n * (end - start);
  }
  function linearInterpolation(t, start, end) {
    return t * end + (1 - t) * start;
  }
  function quadraticOutInterpolation(t, start, end) {
    return linearInterpolation(2 * t - t * t, start, end);
  }
  function b3Friction1(x) {
    return 0.0007 * Math.pow(x, 3) - 0.031 * Math.pow(x, 2) + 0.64 * x + 1.28;
  }
  function b3Friction2(x) {
    return 0.000044 * Math.pow(x, 3) - 0.006 * Math.pow(x, 2) + 0.36 * x + 2;
  }
  function b3Friction3(x) {
    return 0.00000045 * Math.pow(x, 3) - 0.000332 * Math.pow(x, 2) + 0.1078 * x + 5.84;
  }
  function b3Nobounce(tension) {
    if (tension <= 18) {
      return b3Friction1(tension);
    } else if (tension > 18 && tension <= 44) {
      return b3Friction2(tension);
    } else {
      return b3Friction3(tension);
    }
  }
  var b = normalize(bounciness / 1.7, 0, 20);
  b = projectNormal(b, 0, 0.8);
  var s = normalize(speed / 1.7, 0, 20);
  var bouncyTension = projectNormal(s, 0.5, 200);
  var bouncyFriction = quadraticOutInterpolation(b, b3Nobounce(bouncyTension), 0.01);
  return {
    stiffness: stiffnessFromOrigamiValue(bouncyTension),
    damping: dampingFromOrigamiValue(bouncyFriction)
  };
}
module.exports = {
  fromOrigamiTensionAndFriction: fromOrigamiTensionAndFriction,
  fromBouncinessAndSpeed: fromBouncinessAndSpeed
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGlmZm5lc3NGcm9tT3JpZ2FtaVZhbHVlIiwib1ZhbHVlIiwiZGFtcGluZ0Zyb21PcmlnYW1pVmFsdWUiLCJmcm9tT3JpZ2FtaVRlbnNpb25BbmRGcmljdGlvbiIsInRlbnNpb24iLCJmcmljdGlvbiIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJmcm9tQm91bmNpbmVzc0FuZFNwZWVkIiwiYm91bmNpbmVzcyIsInNwZWVkIiwibm9ybWFsaXplIiwidmFsdWUiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJwcm9qZWN0Tm9ybWFsIiwibiIsInN0YXJ0IiwiZW5kIiwibGluZWFySW50ZXJwb2xhdGlvbiIsInQiLCJxdWFkcmF0aWNPdXRJbnRlcnBvbGF0aW9uIiwiYjNGcmljdGlvbjEiLCJ4IiwiTWF0aCIsInBvdyIsImIzRnJpY3Rpb24yIiwiYjNGcmljdGlvbjMiLCJiM05vYm91bmNlIiwiYiIsInMiLCJib3VuY3lUZW5zaW9uIiwiYm91bmN5RnJpY3Rpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU3ByaW5nQ29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG50eXBlIFNwcmluZ0NvbmZpZ1R5cGUgPSB7XG4gIHN0aWZmbmVzczogbnVtYmVyLFxuICBkYW1waW5nOiBudW1iZXIsXG59O1xuXG5mdW5jdGlvbiBzdGlmZm5lc3NGcm9tT3JpZ2FtaVZhbHVlKG9WYWx1ZSkge1xuICByZXR1cm4gKG9WYWx1ZSAtIDMwKSAqIDMuNjIgKyAxOTQ7XG59XG5cbmZ1bmN0aW9uIGRhbXBpbmdGcm9tT3JpZ2FtaVZhbHVlKG9WYWx1ZSkge1xuICByZXR1cm4gKG9WYWx1ZSAtIDgpICogMyArIDI1O1xufVxuXG5mdW5jdGlvbiBmcm9tT3JpZ2FtaVRlbnNpb25BbmRGcmljdGlvbihcbiAgdGVuc2lvbjogbnVtYmVyLFxuICBmcmljdGlvbjogbnVtYmVyLFxuKTogU3ByaW5nQ29uZmlnVHlwZSB7XG4gIHJldHVybiB7XG4gICAgc3RpZmZuZXNzOiBzdGlmZm5lc3NGcm9tT3JpZ2FtaVZhbHVlKHRlbnNpb24pLFxuICAgIGRhbXBpbmc6IGRhbXBpbmdGcm9tT3JpZ2FtaVZhbHVlKGZyaWN0aW9uKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZnJvbUJvdW5jaW5lc3NBbmRTcGVlZChcbiAgYm91bmNpbmVzczogbnVtYmVyLFxuICBzcGVlZDogbnVtYmVyLFxuKTogU3ByaW5nQ29uZmlnVHlwZSB7XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIC0gc3RhcnRWYWx1ZSkgLyAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2plY3ROb3JtYWwobiwgc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBzdGFydCArIG4gKiAoZW5kIC0gc3RhcnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGluZWFySW50ZXJwb2xhdGlvbih0LCBzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIHQgKiBlbmQgKyAoMSAtIHQpICogc3RhcnQ7XG4gIH1cblxuICBmdW5jdGlvbiBxdWFkcmF0aWNPdXRJbnRlcnBvbGF0aW9uKHQsIHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gbGluZWFySW50ZXJwb2xhdGlvbigyICogdCAtIHQgKiB0LCBzdGFydCwgZW5kKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGIzRnJpY3Rpb24xKHgpIHtcbiAgICByZXR1cm4gMC4wMDA3ICogTWF0aC5wb3coeCwgMykgLSAwLjAzMSAqIE1hdGgucG93KHgsIDIpICsgMC42NCAqIHggKyAxLjI4O1xuICB9XG5cbiAgZnVuY3Rpb24gYjNGcmljdGlvbjIoeCkge1xuICAgIHJldHVybiAwLjAwMDA0NCAqIE1hdGgucG93KHgsIDMpIC0gMC4wMDYgKiBNYXRoLnBvdyh4LCAyKSArIDAuMzYgKiB4ICsgMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGIzRnJpY3Rpb24zKHgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgMC4wMDAwMDA0NSAqIE1hdGgucG93KHgsIDMpIC1cbiAgICAgIDAuMDAwMzMyICogTWF0aC5wb3coeCwgMikgK1xuICAgICAgMC4xMDc4ICogeCArXG4gICAgICA1Ljg0XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGIzTm9ib3VuY2UodGVuc2lvbikge1xuICAgIGlmICh0ZW5zaW9uIDw9IDE4KSB7XG4gICAgICByZXR1cm4gYjNGcmljdGlvbjEodGVuc2lvbik7XG4gICAgfSBlbHNlIGlmICh0ZW5zaW9uID4gMTggJiYgdGVuc2lvbiA8PSA0NCkge1xuICAgICAgcmV0dXJuIGIzRnJpY3Rpb24yKHRlbnNpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYjNGcmljdGlvbjModGVuc2lvbik7XG4gICAgfVxuICB9XG5cbiAgbGV0IGIgPSBub3JtYWxpemUoYm91bmNpbmVzcyAvIDEuNywgMCwgMjApO1xuICBiID0gcHJvamVjdE5vcm1hbChiLCAwLCAwLjgpO1xuICBjb25zdCBzID0gbm9ybWFsaXplKHNwZWVkIC8gMS43LCAwLCAyMCk7XG4gIGNvbnN0IGJvdW5jeVRlbnNpb24gPSBwcm9qZWN0Tm9ybWFsKHMsIDAuNSwgMjAwKTtcbiAgY29uc3QgYm91bmN5RnJpY3Rpb24gPSBxdWFkcmF0aWNPdXRJbnRlcnBvbGF0aW9uKFxuICAgIGIsXG4gICAgYjNOb2JvdW5jZShib3VuY3lUZW5zaW9uKSxcbiAgICAwLjAxLFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgc3RpZmZuZXNzOiBzdGlmZm5lc3NGcm9tT3JpZ2FtaVZhbHVlKGJvdW5jeVRlbnNpb24pLFxuICAgIGRhbXBpbmc6IGRhbXBpbmdGcm9tT3JpZ2FtaVZhbHVlKGJvdW5jeUZyaWN0aW9uKSxcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZyb21PcmlnYW1pVGVuc2lvbkFuZEZyaWN0aW9uLFxuICBmcm9tQm91bmNpbmVzc0FuZFNwZWVkLFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFPWixTQUFTQSx5QkFBeUJBLENBQUNDLE1BQU0sRUFBRTtFQUN6QyxPQUFPLENBQUNBLE1BQU0sR0FBRyxFQUFFLElBQUksSUFBSSxHQUFHLEdBQUc7QUFDbkM7QUFFQSxTQUFTQyx1QkFBdUJBLENBQUNELE1BQU0sRUFBRTtFQUN2QyxPQUFPLENBQUNBLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7QUFDOUI7QUFFQSxTQUFTRSw2QkFBNkJBLENBQ3BDQyxPQUFlLEVBQ2ZDLFFBQWdCLEVBQ0U7RUFDbEIsT0FBTztJQUNMQyxTQUFTLEVBQUVOLHlCQUF5QixDQUFDSSxPQUFPLENBQUM7SUFDN0NHLE9BQU8sRUFBRUwsdUJBQXVCLENBQUNHLFFBQVE7RUFDM0MsQ0FBQztBQUNIO0FBRUEsU0FBU0csc0JBQXNCQSxDQUM3QkMsVUFBa0IsRUFDbEJDLEtBQWEsRUFDSztFQUNsQixTQUFTQyxTQUFTQSxDQUFDQyxLQUFLLEVBQUVDLFVBQVUsRUFBRUMsUUFBUSxFQUFFO0lBQzlDLE9BQU8sQ0FBQ0YsS0FBSyxHQUFHQyxVQUFVLEtBQUtDLFFBQVEsR0FBR0QsVUFBVSxDQUFDO0VBQ3ZEO0VBRUEsU0FBU0UsYUFBYUEsQ0FBQ0MsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLEdBQUcsRUFBRTtJQUNwQyxPQUFPRCxLQUFLLEdBQUdELENBQUMsSUFBSUUsR0FBRyxHQUFHRCxLQUFLLENBQUM7RUFDbEM7RUFFQSxTQUFTRSxtQkFBbUJBLENBQUNDLENBQUMsRUFBRUgs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