e002ddac6f553ccaa58769866eb8efad
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var DeprecatedImagePropType = require('../DeprecatedPropTypes/DeprecatedImagePropType');
var NativeModules = require('../BatchedBridge/NativeModules');
var React = require('react');
var ReactNative = require('../Renderer/shims/ReactNative');
var StyleSheet = require('../StyleSheet/StyleSheet');
var flattenStyle = require('../StyleSheet/flattenStyle');
var requireNativeComponent = require('../ReactNative/requireNativeComponent');
var resolveAssetSource = require('./resolveAssetSource');
var ImageViewManager = NativeModules.ImageViewManager;
var RCTImageView = requireNativeComponent('RCTImageView');
function getSize(uri, success, failure) {
  ImageViewManager.getSize(uri, success, failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}
function getSizeWithHeaders(uri, headers, success, failure) {
  return ImageViewManager.getSizeWithHeaders({
    uri: uri,
    headers: headers
  }).then(function (sizes) {
    success(sizes.width, sizes.height);
  }).catch(failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}
function prefetch(url) {
  return ImageViewManager.prefetchImage(url);
}
function queryCache(urls) {
  return _regenerator.default.async(function queryCache$(_context) {
    while (1) switch (_context.prev = _context.next) {
      case 0:
        _context.next = 2;
        return _regenerator.default.awrap(ImageViewManager.queryCache(urls));
      case 2:
        return _context.abrupt("return", _context.sent);
      case 3:
      case "end":
        return _context.stop();
    }
  }, null, null, null, Promise);
}
var Image = function Image(props, forwardedRef) {
  var source = resolveAssetSource(props.source) || {
    uri: undefined,
    width: undefined,
    height: undefined
  };
  var sources;
  var style;
  if (Array.isArray(source)) {
    style = flattenStyle([styles.base, props.style]) || {};
    sources = source;
  } else {
    var _width = source.width,
      _height = source.height,
      uri = source.uri;
    style = flattenStyle([{
      width: _width,
      height: _height
    }, styles.base, props.style]) || {};
    sources = [source];
    if (uri === '') {
      console.warn('source.uri should not be an empty string');
    }
  }
  var resizeMode = props.resizeMode || style.resizeMode || 'cover';
  var tintColor = style.tintColor;
  if (props.src != null) {
    console.warn('The <Image> component requires a `source` property rather than `src`.');
  }
  if (props.children != null) {
    throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
  }
  return React.createElement(RCTImageView, (0, _extends2.default)({}, props, {
    ref: forwardedRef,
    style: style,
    resizeMode: resizeMode,
    tintColor: tintColor,
    source: sources
  }));
};
Image = React.forwardRef(Image);
Image.displayName = 'Image';
Image.getSize = getSize;
Image.getSizeWithHeaders = getSizeWithHeaders;
Image.prefetch = prefetch;
Image.queryCache = queryCache;
Image.resolveAssetSource = resolveAssetSource;
Image.propTypes = DeprecatedImagePropType;
var styles = StyleSheet.create({
  base: {
    overflow: 'hidden'
  }
});
module.exports = Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9leHRlbmRzMiIsIl9yZWdlbmVyYXRvciIsIkRlcHJlY2F0ZWRJbWFnZVByb3BUeXBlIiwiTmF0aXZlTW9kdWxlcyIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTdHlsZVNoZWV0IiwiZmxhdHRlblN0eWxlIiwicmVxdWlyZU5hdGl2ZUNvbXBvbmVudCIsInJlc29sdmVBc3NldFNvdXJjZSIsIkltYWdlVmlld01hbmFnZXIiLCJSQ1RJbWFnZVZpZXciLCJnZXRTaXplIiwidXJpIiwic3VjY2VzcyIsImZhaWx1cmUiLCJjb25zb2xlIiwid2FybiIsImdldFNpemVXaXRoSGVhZGVycyIsImhlYWRlcnMiLCJ0aGVuIiwic2l6ZXMiLCJ3aWR0aCIsImhlaWdodCIsImNhdGNoIiwicHJlZmV0Y2giLCJ1cmwiLCJwcmVmZXRjaEltYWdlIiwicXVlcnlDYWNoZSIsInVybHMiLCJkZWZhdWx0IiwiYXN5bmMiLCJxdWVyeUNhY2hlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhd3JhcCIsImFicnVwdCIsInNlbnQiLCJzdG9wIiwiUHJvbWlzZSIsIkltYWdlIiwicHJvcHMiLCJmb3J3YXJkZWRSZWYiLCJzb3VyY2UiLCJ1bmRlZmluZWQiLCJzb3VyY2VzIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJzdHlsZXMiLCJiYXNlIiwicmVzaXplTW9kZSIsInRpbnRDb2xvciIsInNyYyIsImNoaWxkcmVuIiwiRXJyb3IiLCJjcmVhdGVFbGVtZW50IiwicmVmIiwiZm9yd2FyZFJlZiIsImRpc3BsYXlOYW1lIiwicHJvcFR5cGVzIiwiY3JlYXRlIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiSW1hZ2UuaW9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkSW1hZ2VQcm9wVHlwZSA9IHJlcXVpcmUoJy4uL0RlcHJlY2F0ZWRQcm9wVHlwZXMvRGVwcmVjYXRlZEltYWdlUHJvcFR5cGUnKTtcbmNvbnN0IE5hdGl2ZU1vZHVsZXMgPSByZXF1aXJlKCcuLi9CYXRjaGVkQnJpZGdlL05hdGl2ZU1vZHVsZXMnKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuXG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL1JlYWN0TmF0aXZlL3JlcXVpcmVOYXRpdmVDb21wb25lbnQnKTtcbmNvbnN0IHJlc29sdmVBc3NldFNvdXJjZSA9IHJlcXVpcmUoJy4vcmVzb2x2ZUFzc2V0U291cmNlJyk7XG5cbmNvbnN0IEltYWdlVmlld01hbmFnZXIgPSBOYXRpdmVNb2R1bGVzLkltYWdlVmlld01hbmFnZXI7XG5cbmNvbnN0IFJDVEltYWdlVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JDVEltYWdlVmlldycpO1xuXG5pbXBvcnQgdHlwZSB7SW1hZ2VQcm9wcyBhcyBJbWFnZVByb3BzVHlwZX0gZnJvbSAnLi9JbWFnZVByb3BzJztcblxuaW1wb3J0IHR5cGUge0ltYWdlU3R5bGVQcm9wfSBmcm9tICcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuXG5mdW5jdGlvbiBnZXRTaXplKFxuICB1cmk6IHN0cmluZyxcbiAgc3VjY2VzczogKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBmYWlsdXJlPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4pIHtcbiAgSW1hZ2VWaWV3TWFuYWdlci5nZXRTaXplKFxuICAgIHVyaSxcbiAgICBzdWNjZXNzLFxuICAgIGZhaWx1cmUgfHxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgc2l6ZSBmb3IgaW1hZ2U6ICcgKyB1cmkpO1xuICAgICAgfSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZVdpdGhIZWFkZXJzKFxuICB1cmk6IHN0cmluZyxcbiAgaGVhZGVyczoge1tzdHJpbmddOiBzdHJpbmd9LFxuICBzdWNjZXNzOiAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIGZhaWx1cmU/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbik6IGFueSB7XG4gIHJldHVybiBJbWFnZVZpZXdNYW5hZ2VyLmdldFNpemVXaXRoSGVhZGVycyh7dXJpLCBoZWFkZXJzfSlcbiAgICAudGhlbihmdW5jdGlvbihzaXplcykge1xuICAgICAgc3VjY2VzcyhzaXplcy53aWR0aCwgc2l6ZXMuaGVpZ2h0KTtcbiAgICB9KVxuICAgIC5jYXRjaChcbiAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZ2V0IHNpemUgZm9yIGltYWdlOiAnICsgdXJpKTtcbiAgICAgICAgfSxcbiAgICApO1xufVxuXG5mdW5jdGlvbiBwcmVmZXRjaCh1cmw6IHN0cmluZyk6IGFueSB7XG4gIHJldHVybiBJbWFnZVZpZXdNYW5hZ2VyLnByZWZldGNoSW1hZ2UodXJsKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcXVlcnlDYWNoZShcbiAgdXJsczogQXJyYXk8c3RyaW5nPixcbik6IFByb21pc2U8e1tzdHJpbmddOiAnbWVtb3J5JyB8ICdkaXNrJyB8ICdkaXNrL21lbW9yeSd9PiB7XG4gIHJldHVybiBhd2FpdCBJbWFnZVZpZXdNYW5hZ2VyLnF1ZXJ5Q2FjaGUodXJscyk7XG59XG5cbmRlY2xhcmUgY2xhc3MgSW1hZ2VDb21wb25lbnRUeXBlIGV4dGVuZHMgUmVhY3ROYXRpdmUuTmF0aXZlQ29tcG9uZW50PEltYWdlUHJvcHNUeXBlPiB7XG4gIHN0YXRpYyBnZXRTaXplOiB0eXBlb2YgZ2V0U2l6ZTtcbiAgc3RhdGljIGdldFNpemVXaXRoSGVhZGVyczogdHlwZW9mIGdldFNpemVXaXRoSGVhZGVycztcbiAgc3RhdGljIHByZWZldGNoOiB0eXBlb2YgcHJlZmV0Y2g7XG4gIHN0YXRpYyBxdWVyeUNhY2hlOiB0eXBlb2YgcXVlcnlDYWNoZTtcbiAgc3RhdGljIHJlc29sdmVBc3NldFNvdXJjZTogdHlwZW9mIHJlc29sdmVBc3NldFNvdXJjZTtcbiAgc3RhdGljIHByb3BUeXBlczogdHlwZW9mIERlcHJlY2F0ZWRJbWFnZVByb3BUeXBlO1xufVxuXG4vKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IGZvciBkaXNwbGF5aW5nIGRpZmZlcmVudCB0eXBlcyBvZiBpbWFnZXMsXG4gKiBpbmNsdWRpbmcgbmV0d29yayBpbWFnZXMsIHN0YXRpYyByZXNvdXJjZXMsIHRlbXBvcmFyeSBsb2NhbCBpbWFnZXMsIGFuZFxuICogaW1hZ2VzIGZyb20gbG9jYWwgZGlzaywgc3VjaCBhcyB0aGUgY2FtZXJhIHJvbGwuXG4gKlxuICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWxcbiAqL1xubGV0IEltYWdlID0gKFxuICBwcm9wczogSW1hZ2VQcm9wc1R5cGUsXG4gIGZvcndhcmRlZFJlZjogP1JlYWN0LlJlZjwnUkNUSW1hZ2VWaWV3Jz4sXG4pID0+IHtcbiAgY29uc3Qgc291cmNlID0gcmVzb2x2ZUFzc2V0U291cmNlKHByb3BzLnNvdXJjZSkgfHwge1xuICAgIHVyaTogdW5kZWZpbmVkLFxuICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgbGV0IHNvdXJjZXM7XG4gIGxldCBzdHlsZTogSW1hZ2VTdHlsZVByb3A7XG4gIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAvLyAkRmxvd0ZpeE1lIGZsYXR0ZW5TdHlsZSBpcyBub3Qgc3Ryb25nIGVub3VnaFxuICAgIHN0eWxlID0gZmxhdHRlblN0eWxlKFtzdHlsZXMuYmFzZSwgcHJvcHMuc3R5bGVdKSB8fCB7fTtcbiAgICBzb3VyY2VzID0gc291cmNlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCB1cml9ID0gc291cmNlO1xuICAgIC8vICRGbG93Rml4TWUgZmxhdHRlblN0eWxlIGlzIG5vdCBzdHJvbmcgZW5vdWdoXG4gICAgc3R5bGUgPSBmbGF0dGVuU3R5bGUoW3t3aWR0aCwgaGVpZ2h0fSwgc3R5bGVzLmJhc2UsIHByb3BzLnN0eWxlXSkgfHwge307XG4gICAgc291cmNlcyA9IFtzb3VyY2VdO1xuXG4gICAgaWYgKHVyaSA9PT0gJycpIHtcbiAgICAgIGNvbnNvbGUud2Fybignc291cmNlLnVyaSBzaG91bGQgbm90IGJlIGFuIGVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlc2l6ZU1vZGUgPSBwcm9wcy5yZXNpemVNb2RlIHx8IHN0eWxlLnJlc2l6ZU1vZGUgfHwgJ2NvdmVyJztcbiAgY29uc3QgdGludENvbG9yID0gc3R5bGUudGludENvbG9yO1xuXG4gIGlmIChwcm9wcy5zcmMgIT0gbnVsbCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgcmVxdWlyZXMgYSBgc291cmNlYCBwcm9wZXJ0eSByYXRoZXIgdGhhbiBgc3JjYC4nLFxuICAgICk7XG4gIH1cblxuICBpZiAocHJvcHMuY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgY2Fubm90IGNvbnRhaW4gY2hpbGRyZW4uIElmIHlvdSB3YW50IHRvIHJlbmRlciBjb250ZW50IG9uIHRvcCBvZiB0aGUgaW1hZ2UsIGNvbnNpZGVyIHVzaW5nIHRoZSA8SW1hZ2VCYWNrZ3JvdW5kPiBjb21wb25lbnQgb3IgYWJzb2x1dGUgcG9zaXRpb25pbmcuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UkNUSW1hZ2VWaWV3XG4gICAgICB7Li4ucHJvcHN9XG4gICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIHJlc2l6ZU1vZGU9e3Jlc2l6ZU1vZGV9XG4gICAgICB0aW50Q29sb3I9e3RpbnRDb2xvcn1cbiAgICAgIHNvdXJjZT17c291cmNlc31cbiAgICAvPlxuICApO1xufTtcblxuSW1hZ2UgPSBSZWFjdC5mb3J3YXJkUmVmKEltYWdlKTtcbkltYWdlLmRpc3BsYXlOYW1lID0gJ0ltYWdlJztcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCAoaW4gcGl4ZWxzKSBvZiBhbiBpbWFnZSBwcmlvciB0byBkaXNwbGF5aW5nIGl0LlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI2dldHNpemVcbiAqL1xuLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9pb3NfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpc1xuICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5JbWFnZS5nZXRTaXplID0gZ2V0U2l6ZTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCAoaW4gcGl4ZWxzKSBvZiBhbiBpbWFnZSBwcmlvciB0byBkaXNwbGF5aW5nIGl0XG4gKiB3aXRoIHRoZSBhYmlsaXR5IHRvIHByb3ZpZGUgdGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI2dldHNpemV3aXRoaGVhZGVyc1xuICovXG4vKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLmdldFNpemVXaXRoSGVhZGVycyA9IGdldFNpemVXaXRoSGVhZGVycztcblxuLyoqXG4gKiBQcmVmZXRjaGVzIGEgcmVtb3RlIGltYWdlIGZvciBsYXRlciB1c2UgYnkgZG93bmxvYWRpbmcgaXQgdG8gdGhlIGRpc2tcbiAqIGNhY2hlLlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3ByZWZldGNoXG4gKi9cbi8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXNcbiAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UucHJlZmV0Y2ggPSBwcmVmZXRjaDtcblxuLyoqXG4gKiBQZXJmb3JtcyBjYWNoZSBpbnRlcnJvZ2F0aW9uLlxuICpcbiAqICBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNxdWVyeWNhY2hlXG4gKi9cbi8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXNcbiAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UucXVlcnlDYWNoZSA9IHF1ZXJ5Q2FjaGU7XG5cbi8qKlxuICogUmVzb2x2ZXMgYW4gYXNzZXQgcmVmZXJlbmNlIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3Jlc29sdmVhc3NldHNvdXJjZVxuICovXG4vKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLnJlc29sdmVBc3NldFNvdXJjZSA9IHJlc29sdmVBc3NldFNvdXJjZTtcblxuLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9pb3NfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpc1xuICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5JbWFnZS5wcm9wVHlwZXMgPSBEZXByZWNhdGVkSW1hZ2VQcm9wVHlwZTtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBiYXNlOiB7XG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB9LFxufSk7XG5cbi8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXNcbiAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoSW1hZ2U6IENsYXNzPEltYWdlQ29tcG9uZW50VHlwZT4pO1xuIl0sIm1hcHBpbmdzIjoiQUFTQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBRSxZQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFYixJQUFNRyx1QkFBdUIsR0FBR0gsT0FBTyxDQUFDLGdEQUFnRCxDQUFDO0FBQ3pGLElBQU1JLGFBQWEsR0FBR0osT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQy9ELElBQU1LLEtBQUssR0FBR0wsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixJQUFNTSxXQUFXLEdBQUdOLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUM1RCxJQUFNTyxVQUFVLEdBQUdQLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQztBQUV0RCxJQUFNUSxZQUFZLEdBQUdSLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQztBQUMxRCxJQUFNUyxzQkFBc0IsR0FBR1QsT0FBTyxDQUFDLHVDQUF1QyxDQUFDO0FBQy9FLElBQU1VLGtCQUFrQixHQUFHVixPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFMUQsSUFBTVcsZ0JBQWdCLEdBQUdQLGFBQWEsQ0FB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