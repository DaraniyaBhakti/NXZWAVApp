072aa20dda756e4ce3771a7c1ab78e25
'use strict';

var invariant = require('invariant');
var customBubblingEventTypes = {};
var customDirectEventTypes = {};
exports.customBubblingEventTypes = customBubblingEventTypes;
exports.customDirectEventTypes = customDirectEventTypes;
var viewConfigCallbacks = new Map();
var viewConfigs = new Map();
function processEventTypes(viewConfig) {
  var bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  if (__DEV__) {
    if (bubblingEventTypes != null && directEventTypes != null) {
      for (var topLevelType in directEventTypes) {
        invariant(bubblingEventTypes[topLevelType] == null, 'Event cannot be both direct and bubbling: %s', topLevelType);
      }
    }
  }
  if (bubblingEventTypes != null) {
    for (var _topLevelType in bubblingEventTypes) {
      if (customBubblingEventTypes[_topLevelType] == null) {
        customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
      }
    }
  }
  if (directEventTypes != null) {
    for (var _topLevelType2 in directEventTypes) {
      if (customDirectEventTypes[_topLevelType2] == null) {
        customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
      }
    }
  }
}
exports.register = function (name, callback) {
  invariant(!viewConfigCallbacks.has(name), 'Tried to register two views with the same name %s', name);
  viewConfigCallbacks.set(name, callback);
  return name;
};
exports.get = function (name) {
  var viewConfig;
  if (!viewConfigs.has(name)) {
    var callback = viewConfigCallbacks.get(name);
    if (typeof callback !== 'function') {
      invariant(false, 'View config not found for name %s.%s', name, typeof name[0] === 'string' && /[a-z]/.test(name[0]) ? ' Make sure to start component names with a capital letter.' : '');
    }
    viewConfigCallbacks.set(name, null);
    viewConfig = callback();
    processEventTypes(viewConfig);
    viewConfigs.set(name, viewConfig);
  } else {
    viewConfig = viewConfigs.get(name);
  }
  invariant(viewConfig, 'View config not found for name %s', name);
  return viewConfig;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnZhcmlhbnQiLCJyZXF1aXJlIiwiY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzIiwiY3VzdG9tRGlyZWN0RXZlbnRUeXBlcyIsImV4cG9ydHMiLCJ2aWV3Q29uZmlnQ2FsbGJhY2tzIiwiTWFwIiwidmlld0NvbmZpZ3MiLCJwcm9jZXNzRXZlbnRUeXBlcyIsInZpZXdDb25maWciLCJidWJibGluZ0V2ZW50VHlwZXMiLCJkaXJlY3RFdmVudFR5cGVzIiwiX19ERVZfXyIsInRvcExldmVsVHlwZSIsInJlZ2lzdGVyIiwibmFtZSIsImNhbGxiYWNrIiwiaGFzIiwic2V0IiwiZ2V0IiwidGVzdCJdLCJzb3VyY2VzIjpbIlJlYWN0TmF0aXZlVmlld0NvbmZpZ1JlZ2lzdHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaW50ZXJuYWwvd2FybmluZy1hbmQtaW52YXJpYW50LWFyZ3MgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7XG4gIFJlYWN0TmF0aXZlQmFzZUNvbXBvbmVudFZpZXdDb25maWcsXG4gIFZpZXdDb25maWdHZXR0ZXIsXG59IGZyb20gJy4vUmVhY3ROYXRpdmVUeXBlcyc7XG5cbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG4vLyBFdmVudCBjb25maWdzXG5jb25zdCBjdXN0b21CdWJibGluZ0V2ZW50VHlwZXM6ICRURU1QT1JBUlkkb2JqZWN0PHt8fH0+ID0ge307XG5jb25zdCBjdXN0b21EaXJlY3RFdmVudFR5cGVzOiAkVEVNUE9SQVJZJG9iamVjdDx7fHx9PiA9IHt9O1xuXG5leHBvcnRzLmN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcyA9IGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcztcbmV4cG9ydHMuY3VzdG9tRGlyZWN0RXZlbnRUeXBlcyA9IGN1c3RvbURpcmVjdEV2ZW50VHlwZXM7XG5cbmNvbnN0IHZpZXdDb25maWdDYWxsYmFja3MgPSBuZXcgTWFwKCk7XG5jb25zdCB2aWV3Q29uZmlncyA9IG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gcHJvY2Vzc0V2ZW50VHlwZXMoXG4gIHZpZXdDb25maWc6IFJlYWN0TmF0aXZlQmFzZUNvbXBvbmVudFZpZXdDb25maWc8Pixcbik6IHZvaWQge1xuICBjb25zdCB7YnViYmxpbmdFdmVudFR5cGVzLCBkaXJlY3RFdmVudFR5cGVzfSA9IHZpZXdDb25maWc7XG5cbiAgaWYgKF9fREVWX18pIHtcbiAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwgJiYgZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBidWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsLFxuICAgICAgICAgICdFdmVudCBjYW5ub3QgYmUgYm90aCBkaXJlY3QgYW5kIGJ1YmJsaW5nOiAlcycsXG4gICAgICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChidWJibGluZ0V2ZW50VHlwZXMgIT0gbnVsbCkge1xuICAgIGZvciAoY29uc3QgdG9wTGV2ZWxUeXBlIGluIGJ1YmJsaW5nRXZlbnRUeXBlcykge1xuICAgICAgaWYgKGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID09IG51bGwpIHtcbiAgICAgICAgY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPVxuICAgICAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJlY3RFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICBpZiAoY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID09IG51bGwpIHtcbiAgICAgICAgY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID0gZGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIG5hdGl2ZSB2aWV3L2NvbXBvbmVudCBieSBuYW1lLlxuICogQSBjYWxsYmFjayBpcyBwcm92aWRlZCB0byBsb2FkIHRoZSB2aWV3IGNvbmZpZyBmcm9tIFVJTWFuYWdlci5cbiAqIFRoZSBjYWxsYmFjayBpcyBkZWZlcnJlZCB1bnRpbCB0aGUgdmlldyBpcyBhY3R1YWxseSByZW5kZXJlZC5cbiAqL1xuZXhwb3J0cy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IFZpZXdDb25maWdHZXR0ZXIpOiBzdHJpbmcge1xuICBpbnZhcmlhbnQoXG4gICAgIXZpZXdDb25maWdDYWxsYmFja3MuaGFzKG5hbWUpLFxuICAgICdUcmllZCB0byByZWdpc3RlciB0d28gdmlld3Mgd2l0aCB0aGUgc2FtZSBuYW1lICVzJyxcbiAgICBuYW1lLFxuICApO1xuICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBjYWxsYmFjayk7XG4gIHJldHVybiBuYW1lO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBjb25maWcgZm9yIHRoZSBzcGVjaWZpZWQgdmlldy5cbiAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIHZpZXcgaGFzIGJlZW4gdXNlZCxcbiAqIFRoaXMgY29uZmlndXJhdGlvbiB3aWxsIGJlIGxhenktbG9hZGVkIGZyb20gVUlNYW5hZ2VyLlxuICovXG5leHBvcnRzLmdldCA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZyk6IFJlYWN0TmF0aXZlQmFzZUNvbXBvbmVudFZpZXdDb25maWc8PiB7XG4gIGxldCB2aWV3Q29uZmlnO1xuICBpZiAoIXZpZXdDb25maWdzLmhhcyhuYW1lKSkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdmlld0NvbmZpZ0NhbGxiYWNrcy5nZXQobmFtZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgJ1ZpZXcgY29uZmlnIG5vdCBmb3VuZCBmb3IgbmFtZSAlcy4lcycsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGVvZiBuYW1lWzBdID09PSAnc3RyaW5nJyAmJiAvW2Etel0vLnRlc3QobmFtZVswXSlcbiAgICAgICAgICA/ICcgTWFrZSBzdXJlIHRvIHN0YXJ0IGNvbXBvbmVudCBuYW1lcyB3aXRoIGEgY2FwaXRhbCBsZXR0ZXIuJ1xuICAgICAgICAgIDogJycsXG4gICAgICApO1xuICAgIH1cbiAgICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBudWxsKTtcbiAgICB2aWV3Q29uZmlnID0gY2FsbGJhY2soKTtcbiAgICBwcm9jZXNzRXZlbnRUeXBlcyh2aWV3Q29uZmlnKTtcbiAgICB2aWV3Q29uZmlncy5zZXQobmFtZSwgdmlld0NvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgdmlld0NvbmZpZyA9IHZpZXdDb25maWdzLmdldChuYW1lKTtcbiAgfVxuICBpbnZhcmlhbnQodmlld0NvbmZpZywgJ1ZpZXcgY29uZmlnIG5vdCBmb3VuZCBmb3IgbmFtZSAlcycsIG5hbWUpO1xuICByZXR1cm4gdmll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