{"version":3,"names":["_interopRequireDefault","require","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_SwitchNativeComponent","_excluded","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","AndroidSwitchNativeComponent","Platform","React","StyleSheet","Switch","_React$Component","_super","_this","_len","length","args","Array","_key","concat","_handleChange","event","_nativeSwitchRef","value","props","OS","setNativeProps","on","onChange","onValueChange","nativeEvent","_handleSwitchNativeComponentRef","ref","key","render","_props$accessibilityR2","_this$props","disabled","ios_backgroundColor","style","thumbColor","trackColor","_thumbColor","_trackColorForFalse","false","_trackColorForTrue","true","_ref","thumbTintColor","tintColor","onTintColor","__DEV__","console","warn","_props$accessibilityR","platformProps","enabled","trackColorForFalse","trackColorForTrue","trackTintColor","createElement","accessibilityRole","onResponderTerminationRequest","returnsFalse","onStartShouldSetResponder","returnsTrue","compose","height","width","backgroundColor","borderRadius","Component","module","exports"],"sources":["Switch.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\n'use strict';\n\nconst AndroidSwitchNativeComponent = require('./AndroidSwitchNativeComponent');\nconst Platform = require('../../Utilities/Platform');\nconst React = require('react');\nconst StyleSheet = require('../../StyleSheet/StyleSheet');\n\nimport type {ColorValue} from '../../StyleSheet/StyleSheetTypes';\nimport type {SyntheticEvent} from '../../Types/CoreEventTypes';\nimport type {ViewProps} from '../View/ViewPropTypes';\nimport SwitchNativeComponent from './SwitchNativeComponent';\n\ntype SwitchChangeEvent = SyntheticEvent<\n  $ReadOnly<{|\n    value: boolean,\n  |}>,\n>;\n\nexport type Props = $ReadOnly<{|\n  ...ViewProps,\n\n  /**\n   * Whether the switch is disabled. Defaults to false.\n   */\n  disabled?: ?boolean,\n\n  /**\n   * Boolean value of the switch. Defaults to false.\n   */\n  value?: ?boolean,\n\n  /**\n   * Custom color for the switch thumb.\n   */\n  thumbColor?: ?ColorValue,\n\n  /**\n   * Custom colors for the switch track.\n   *\n   * NOTE: On iOS when the switch value is false, the track shrinks into the\n   * border. If you want to change the color of the background exposed by the\n   * shrunken track, use `ios_backgroundColor`.\n   */\n  trackColor?: ?$ReadOnly<{|\n    false?: ?ColorValue,\n    true?: ?ColorValue,\n  |}>,\n\n  /**\n   * On iOS, custom color for the background. This background color can be seen\n   * either when the switch value is false or when the switch is disabled (and\n   * the switch is translucent).\n   */\n  ios_backgroundColor?: ?ColorValue,\n\n  /**\n   * Called when the user tries to change the value of the switch.\n   *\n   * Receives the change event as an argument. If you want to only receive the\n   * new value, use `onValueChange` instead.\n   */\n  onChange?: ?(event: SwitchChangeEvent) => Promise<void> | void,\n\n  /**\n   * Called when the user tries to change the value of the switch.\n   *\n   * Receives the new value as an argument. If you want to instead receive an\n   * event, use `onChange`.\n   */\n  onValueChange?: ?(value: boolean) => Promise<void> | void,\n|}>;\n\n/**\n * A visual toggle between two mutually exclusive states.\n *\n * This is a controlled component that requires an `onValueChange` callback that\n * updates the `value` prop in order for the component to reflect user actions.\n * If the `value` prop is not updated, the component will continue to render the\n * supplied `value` prop instead of the expected result of any user actions.\n */\nclass Switch extends React.Component<Props> {\n  _nativeSwitchRef: ?React.ElementRef<\n    typeof SwitchNativeComponent | typeof AndroidSwitchNativeComponent,\n  >;\n\n  render(): React.Node {\n    const {\n      disabled,\n      ios_backgroundColor,\n      onChange,\n      onValueChange,\n      style,\n      thumbColor,\n      trackColor,\n      value,\n      ...props\n    } = this.props;\n\n    // Support deprecated color props.\n    let _thumbColor = thumbColor;\n    let _trackColorForFalse = trackColor?.false;\n    let _trackColorForTrue = trackColor?.true;\n\n    // TODO: Remove support for these props after a couple releases.\n    const {thumbTintColor, tintColor, onTintColor} = (props: $FlowFixMe);\n    if (thumbTintColor != null) {\n      _thumbColor = thumbTintColor;\n      if (__DEV__) {\n        console.warn(\n          'Switch: `thumbTintColor` is deprecated, use `thumbColor` instead.',\n        );\n      }\n    }\n    if (tintColor != null) {\n      _trackColorForFalse = tintColor;\n      if (__DEV__) {\n        console.warn(\n          'Switch: `tintColor` is deprecated, use `trackColor` instead.',\n        );\n      }\n    }\n    if (onTintColor != null) {\n      _trackColorForTrue = onTintColor;\n      if (__DEV__) {\n        console.warn(\n          'Switch: `onTintColor` is deprecated, use `trackColor` instead.',\n        );\n      }\n    }\n\n    if (Platform.OS === 'android') {\n      const platformProps = {\n        enabled: disabled !== true,\n        on: value === true,\n        style,\n        thumbTintColor: _thumbColor,\n        trackColorForFalse: _trackColorForFalse,\n        trackColorForTrue: _trackColorForTrue,\n        trackTintColor:\n          value === true ? _trackColorForTrue : _trackColorForFalse,\n      };\n\n      return (\n        <AndroidSwitchNativeComponent\n          {...props}\n          {...platformProps}\n          accessibilityRole={props.accessibilityRole ?? 'button'}\n          onChange={this._handleChange}\n          onResponderTerminationRequest={returnsFalse}\n          onStartShouldSetResponder={returnsTrue}\n          ref={this._handleSwitchNativeComponentRef}\n        />\n      );\n    }\n\n    const platformProps = {\n      disabled,\n      onTintColor: _trackColorForTrue,\n      style: StyleSheet.compose(\n        {height: 31, width: 51},\n        StyleSheet.compose(\n          style,\n          ios_backgroundColor == null\n            ? null\n            : {\n                backgroundColor: ios_backgroundColor,\n                borderRadius: 16,\n              },\n        ),\n      ),\n      thumbTintColor: _thumbColor,\n      tintColor: _trackColorForFalse,\n      value: value === true,\n    };\n\n    return (\n      <SwitchNativeComponent\n        {...props}\n        {...platformProps}\n        accessibilityRole={props.accessibilityRole ?? 'button'}\n        onChange={this._handleChange}\n        onResponderTerminationRequest={returnsFalse}\n        onStartShouldSetResponder={returnsTrue}\n        ref={this._handleSwitchNativeComponentRef}\n      />\n    );\n  }\n\n  _handleChange = (event: SwitchChangeEvent) => {\n    if (this._nativeSwitchRef == null) {\n      return;\n    }\n\n    // Force value of native switch in order to control it.\n    const value = this.props.value === true;\n    if (Platform.OS === 'android') {\n      this._nativeSwitchRef.setNativeProps({on: value});\n    } else {\n      this._nativeSwitchRef.setNativeProps({value});\n    }\n\n    if (this.props.onChange != null) {\n      this.props.onChange(event);\n    }\n\n    if (this.props.onValueChange != null) {\n      this.props.onValueChange(event.nativeEvent.value);\n    }\n  };\n\n  _handleSwitchNativeComponentRef = (\n    ref: ?React.ElementRef<\n      typeof SwitchNativeComponent | typeof AndroidSwitchNativeComponent,\n    >,\n  ) => {\n    this._nativeSwitchRef = ref;\n  };\n}\n\nconst returnsFalse = () => false;\nconst returnsTrue = () => true;\n\nmodule.exports = Switch;\n"],"mappings":"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"}