{"version":3,"names":["_nativeInterface","_interopRequireDefault","require","_reactNative","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","defineProperty","exports","enumerable","get","DEFAULT_OPTIONS","title","cancelButtonTitle","takePhotoButtonTitle","chooseFromLibraryButtonTitle","quality","allowsEditing","permissionDenied","text","reTryTitle","okTitle","tintColor","ImagePicker","optionsOrCallback","callback","default","showImagePicker","_objectSpread","processColor","Error","options","launchCamera","launchImageLibrary"],"sources":["index.ts"],"sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n */\r\n\r\nimport NativeInterface from './internal/nativeInterface';\r\nimport {ImagePickerOptions, ImagePickerResponse} from './internal/types';\r\nimport {processColor} from 'react-native';\r\n\r\nconst DEFAULT_OPTIONS: ImagePickerOptions = {\r\n  title: 'Select a Photo',\r\n  cancelButtonTitle: 'Cancel',\r\n  takePhotoButtonTitle: 'Take Photo…',\r\n  chooseFromLibraryButtonTitle: 'Choose from Library…',\r\n  quality: 1.0,\r\n  allowsEditing: false,\r\n  permissionDenied: {\r\n    title: 'Permission denied',\r\n    text:\r\n      'To be able to take pictures with your camera and choose images from your library.',\r\n    reTryTitle: 're-try',\r\n    okTitle: \"I'm sure\",\r\n  },\r\n  tintColor: '',\r\n};\r\n\r\ntype Callback = (response: ImagePickerResponse) => void;\r\ntype OptionsOrCallback = ImagePickerOptions | Callback;\r\n\r\nclass ImagePicker {\r\n  showImagePicker(options: ImagePickerOptions, callback: Callback): void;\r\n  showImagePicker(callback: Callback): void;\r\n\r\n  showImagePicker(\r\n    optionsOrCallback: OptionsOrCallback,\r\n    callback?: Callback,\r\n  ): void {\r\n    if (typeof optionsOrCallback === 'function') {\r\n      return NativeInterface.showImagePicker(\r\n        {\r\n          ...DEFAULT_OPTIONS,\r\n          tintColor: processColor(DEFAULT_OPTIONS.tintColor),\r\n        },\r\n        optionsOrCallback,\r\n      );\r\n    }\r\n\r\n    if (callback == null) {\r\n      throw new Error('callback cannot be undefined');\r\n    }\r\n\r\n    return NativeInterface.showImagePicker(\r\n      {\r\n        ...DEFAULT_OPTIONS,\r\n        ...optionsOrCallback,\r\n        tintColor: processColor(\r\n          optionsOrCallback.tintColor || DEFAULT_OPTIONS.tintColor,\r\n        ),\r\n      },\r\n      callback,\r\n    );\r\n  }\r\n\r\n  launchCamera(options: ImagePickerOptions, callback: Callback): void {\r\n    return NativeInterface.launchCamera(\r\n      {\r\n        ...DEFAULT_OPTIONS,\r\n        ...options,\r\n        tintColor: processColor(options.tintColor || DEFAULT_OPTIONS.tintColor),\r\n      },\r\n      callback,\r\n    );\r\n  }\r\n\r\n  launchImageLibrary(options: ImagePickerOptions, callback: Callback): void {\r\n    return NativeInterface.launchImageLibrary(\r\n      {\r\n        ...DEFAULT_OPTIONS,\r\n        ...options,\r\n        tintColor: processColor(options.tintColor || DEFAULT_OPTIONS.tintColor),\r\n      },\r\n      callback,\r\n    );\r\n  }\r\n}\r\n\r\nexport default new ImagePicker();\r\n\r\nexport * from './internal/types';\r\n"],"mappings":";;;;;;;;;AASA,IAAAA,gBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,YAAA,GAAAD,OAAA;AAiFA,IAAAE,MAAA,GAAAF,OAAA;AAAAG,MAAA,CAAAC,IAAA,CAAAF,MAAA,EAAAG,OAAA,WAAAC,GAAA;EAAA,IAAAA,GAAA,kBAAAA,GAAA;EAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,EAAAJ,GAAA;EAAAH,MAAA,CAAAQ,cAAA,CAAAC,OAAA,EAAAN,GAAA;IAAAO,UAAA;IAAAC,GAAA,WAAAA,IAAA;MAAA,OAAAZ,MAAA,CAAAI,GAAA;IAAA;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA/EA,IAAMS,eAAmC,GAAG;EAC1CC,KAAK,EAAE,gBADmC;EAE1CC,iBAAiB,EAAE,QAFuB;EAG1CC,oBAAoB,EAAE,aAHoB;EAI1CC,4BAA4B,EAAE,sBAJY;EAK1CC,OAAO,EAAE,GALiC;EAM1CC,aAAa,EAAE,KAN2B;EAO1CC,gBAAgB,EAAE;IAChBN,KAAK,EAAE,mBADS;IAEhBO,IAAI,EACF,mFAHc;IAIhBC,UAAU,EAAE,QAJI;IAKhBC,OAAO,EAAE;EALO,CAPwB;EAc1CC,SAAS,EAAE;AAd+B,CAA5C;IAoBMC,W;;;;;;oCAKFC,iB,EACAC,Q,EACM;MACN,IAAI,OAAOD,iBAAP,KAA6B,UAAjC,EAA6C;QAC3C,OAAO9B,gBAAA,CAAAgC,OAAA,CAAgBC,eAAhB,CAAAC,aAAA,KAEAjB,eAFA;UAGHW,SAAS,EAAE,IAAAzB,YAAA,CAAAgC,YAAA,EAAalB,eAAe,CAACW,SAA7B;QAHR,IAKLE,iBALK,CAAP;MAOD;MAED,IAAIC,QAAQ,IAAI,IAAhB,EAAsB;QACpB,MAAM,IAAIK,KAAJ,CAAU,8BAAV,CAAN;MACD;MAED,OAAOpC,gBAAA,CAAAgC,OAAA,CAAgBC,eAAhB,CAAAC,aAAA,KAEAjB,eAFA,MAGAa,iBAHA;QAIHF,SAAS,EAAE,IAAAzB,YAAA,CAAAgC,YAAA,EACTL,iBAAiB,CAACF,SAAlB,IAA+BX,eAAe,CAACW,SADtC;MAJR,IAQLG,QARK,CAAP;IAUD;;;iCAEYM,O,EAA6BN,Q,EAA0B;MAClE,OAAO/B,gBAAA,CAAAgC,OAAA,CAAgBM,YAAhB,CAAAJ,aAAA,KAEAjB,eAFA,MAGAoB,OAHA;QAIHT,SAAS,EAAE,IAAAzB,YAAA,CAAAgC,YAAA,EAAaE,OAAO,CAACT,SAAR,IAAqBX,eAAe,CAACW,SAAlD;MAJR,IAMLG,QANK,CAAP;IAQD;;;uCAEkBM,O,EAA6BN,Q,EAA0B;MACxE,OAAO/B,gBAAA,CAAAgC,OAAA,CAAgBO,kBAAhB,CAAAL,aAAA,KAEAjB,eAFA,MAGAoB,OAHA;QAIHT,SAAS,EAAE,IAAAzB,YAAA,CAAAgC,YAAA,EAAaE,OAAO,CAACT,SAAR,IAAqBX,eAAe,CAACW,SAAlD;MAJR,IAMLG,QANK,CAAP;IAQD;;;;eAGY,IAAIF,WAAJ,E"}